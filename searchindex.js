Search.setIndex({"docnames": ["index", "label", "notebooks/CellTypePrediction", "notebooks/Cropping", "notebooks/ExampleWorkflow", "notebooks/ImageProcessing", "notebooks/Interoperability", "notebooks/Plotting", "notebooks/Segmentation", "notebooks/Slicing", "plot", "preprocessing", "tool"], "filenames": ["index.rst", "label.rst", "notebooks/CellTypePrediction.ipynb", "notebooks/Cropping.ipynb", "notebooks/ExampleWorkflow.ipynb", "notebooks/ImageProcessing.ipynb", "notebooks/Interoperability.ipynb", "notebooks/Plotting.ipynb", "notebooks/Segmentation.ipynb", "notebooks/Slicing.ipynb", "plot.rst", "preprocessing.rst", "tool.rst"], "titles": ["Welcome to the documentation of spatialproteomics!", "The label (<code class=\"code docutils literal notranslate\"><span class=\"pre\">la</span></code>) accessor", "Cell Type Prediction", "Custom Cropping", "Example Workflow with spatialproteomics", "Image Processing", "Interoparability", "Plotting", "Segmentation", "Subselecting Data", "The plot (<code class=\"code docutils literal notranslate\"><span class=\"pre\">pl</span></code>) accessor", "The preprocessing (<code class=\"code docutils literal notranslate\"><span class=\"pre\">pp</span></code>) accessor", "The tool (<code class=\"code docutils literal notranslate\"><span class=\"pre\">tl</span></code>) accessor"], "terms": {"The": [0, 2, 3, 4, 5, 6, 7, 8, 9], "preprocess": [0, 2, 4, 5], "pp": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10], "accessor": [0, 7, 9], "label": [0, 2, 3, 4, 5, 6, 8, 10, 11], "la": [0, 2, 4, 7, 8, 9, 10], "plot": [0, 2, 3, 5, 6, 8, 11], "pl": [0, 2, 3, 4, 5, 7, 8], "tool": [0, 4], "tl": [0, 2, 4, 7, 8, 10], "exampl": [0, 2, 3, 5, 6, 7, 8, 10, 11, 12], "workflow": [0, 6], "1": [0, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12], "get": [0, 2, 3, 5, 7, 8, 9, 10, 11], "start": [0, 3, 7, 8, 9, 11], "2": [0, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12], "imag": [0, 6, 7, 8, 9, 10, 11, 12], "process": [0, 1, 8, 11], "3": [0, 2, 3, 5, 6, 7, 8, 9, 12], "cell": [0, 1, 5, 6, 9, 10, 11, 12], "segment": [0, 1, 2, 3, 6, 10, 11, 12], "4": [0, 2, 3, 5, 6, 7, 8, 9, 12], "quantifi": [0, 11], "protein": 0, "express": [0, 2, 6, 7, 11, 12], "per": 0, "5": [0, 2, 3, 5, 6, 7, 8, 9, 11, 12], "type": [0, 1, 6, 7, 8, 9, 10, 11, 12], "predict": [0, 1, 7, 8, 12], "6": [0, 2, 3, 5, 6, 7, 8, 9], "subselect": [0, 8], "data": [0, 1, 2, 3, 4, 5, 7, 8, 10, 11, 12], "slice": [0, 1, 7, 11], "channel": [0, 1, 2, 3, 4, 5, 6, 10, 11, 12], "spatial": [0, 6], "coordin": [0, 2, 3, 4, 5, 6, 7, 8, 10, 11], "whole": 0, "cellpos": [0, 4, 7, 10, 11, 12], "mesmer": [0, 12], "nuclear": [0, 4, 12], "stardist": [0, 12], "multipl": [0, 4, 5, 7, 9, 10, 11], "custom": [0, 2, 5, 7, 10], "crop": [0, 10], "load": [0, 4, 5, 6, 7, 8, 9], "from": [0, 1, 2, 4, 5, 6, 8, 10, 11, 12], "zarr": [0, 2, 5, 7, 8, 9], "file": [0, 4, 6, 7, 8], "draw": 0, "healthi": 0, "region": [0, 6, 11], "us": [0, 1, 2, 4, 5, 6, 7, 8, 9, 10, 11, 12], "tissuetag": 0, "put": [0, 6], "mask": [0, 1, 4, 8, 10, 11, 12], "object": [0, 1, 2, 4, 5, 6, 7, 8, 9, 10, 11, 12], "set": [0, 1, 2, 4, 5, 7, 8, 11], "everi": [0, 4, 5, 11], "pixel": [0, 4, 5, 8, 10, 11, 12], "intens": [0, 1, 2, 4, 5, 10, 11, 12], "0": [0, 2, 4, 5, 6, 7, 8, 9, 10, 11, 12], "remov": [0, 1, 2, 4, 6, 7, 8, 11], "render": [0, 10], "ob": [0, 2, 6, 8, 10, 11, 12], "annot": [0, 1, 2, 3, 10, 11], "expert": 0, "argmax": [0, 1, 4, 5], "astir": [0, 10, 12], "marker": [0, 1, 3, 4, 5, 7, 8, 10, 12], "binar": [0, 1, 7], "interopar": 0, "import": [0, 2, 3, 4, 5, 7, 8, 9], "export": [0, 2], "csv": 0, "anndata": [0, 12], "spatialdata": [0, 1, 12], "index": [0, 3, 4, 5, 8, 9, 11], "modul": [0, 4, 5, 7, 8], "search": 0, "page": 0, "provid": [1, 3, 5, 7, 8, 10, 11, 12], "sever": [1, 4, 10, 11], "function": [1, 2, 4, 5, 7, 8, 10, 11, 12], "associ": [1, 2], "gate": 1, "class": [1, 6, 10, 11, 12], "spatialproteom": [1, 2, 5, 6, 7, 8, 9, 10, 11, 12], "labelaccessor": 1, "xarray_obj": [1, 10, 11, 12], "add": [1, 3, 8, 10, 11, 12], "phenotyp": 1, "add_label_properti": 1, "arrai": [1, 3, 4, 5, 6, 8, 11], "union": [1, 10, 11], "ndarrai": [1, 6, 11], "list": [1, 2, 6, 9, 10, 11, 12], "prop": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11], "str": [1, 10, 11, 12], "properti": [1, 2, 4, 11], "each": [1, 4, 7, 8, 10, 11, 12], "uniqu": [1, 10], "thi": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "method": [1, 2, 3, 4, 5, 7, 8, 10, 11, 12], "specifi": [1, 7, 10, 11, 12], "valu": [1, 2, 3, 4, 5, 7, 8, 10, 11, 12], "ar": [1, 2, 4, 5, 6, 7, 8, 9, 10, 11, 12], "taken": 1, "argument": [1, 2, 7, 8, 10, 11, 12], "assign": [1, 2, 3, 4, 7, 11, 12], "correspond": [1, 5, 7, 11, 12], "paramet": [1, 5, 8, 10, 11, 12], "numpi": [1, 3, 5, 11], "an": [1, 3, 4, 5, 6, 7, 8, 10, 11, 12], "contain": [1, 4, 7, 8, 10, 11, 12], "name": [1, 3, 4, 8, 9, 11, 12], "ad": [1, 2, 4, 7, 8, 10, 11, 12], "return": [1, 4, 5, 10, 11, 12], "updat": [1, 10, 11], "ani": [1, 4, 5, 7, 8], "note": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "ensur": [1, 4], "convert": [1, 2, 8, 11, 12], "It": [1, 4, 6, 7, 8, 11], "creat": [1, 2, 3, 4, 6, 7, 10, 11, 12], "dataarrai": [1, 11, 12], "da": 1, "given": [1, 2, 11], "coord": [1, 6], "merg": [1, 8, 10, 11], "If": [1, 2, 4, 6, 7, 8, 10, 11, 12], "alreadi": [1, 6, 8, 11, 12], "exist": [1, 2, 4, 5, 6, 11], "new": [1, 4, 10, 11], "add_label_typ": 1, "color": [1, 2, 4, 5, 7, 8, 10, 11], "w": [1, 10], "dataset": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "identifi": 1, "categor": [1, 7, 10], "option": [1, 2, 5, 6, 7, 9, 10, 11, 12], "code": [1, 4, 6, 7, 8], "repres": [1, 10, 11], "visual": [1, 2, 4, 7], "default": [1, 3, 4, 7, 8, 10, 11, 12], "white": [1, 7, 10], "newli": 1, "xr": [1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12], "rais": [1, 10, 11, 12], "valueerror": [1, 11, 12], "observ": [1, 2, 4, 5, 7, 8, 10, 11, 12], "tabl": [1, 3, 7, 10, 11], "found": [1, 2, 6, 7, 8, 10, 11, 12], "check": [1, 4, 7, 8], "doe": [1, 5, 6, 8, 11, 12], "deselect": [1, 9], "indic": [1, 3, 11, 12], "specif": [1, 4, 7, 9, 10], "effect": 1, "them": [1, 2, 7, 11], "select": [1, 7, 8, 9, 10, 11], "can": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "perform": [1, 4, 5, 7, 8, 11, 12], "tupl": [1, 11], "individu": [1, 10], "integ": [1, 2, 10], "int": [1, 10, 11, 12], "which": [1, 2, 3, 4, 5, 6, 7, 8, 10, 11], "predict_cell_types_argmax": [1, 2, 4, 10], "marker_dict": [1, 4, 12], "dict": [1, 10, 11, 12], "kei": [1, 2, 3, 6, 9, 10, 11, 12], "_intens": [1, 2, 4, 11, 12], "overwrite_existing_label": [1, 2], "bool": [1, 10, 11, 12], "fals": [1, 2, 4, 7, 8, 10, 11, 12], "cell_col": [1, 11], "label_col": [1, 11], "base": [1, 4, 5, 11], "classif": 1, "A": [1, 3, 10, 11, 12], "dictionari": [1, 2, 4, 10, 11, 12], "map": [1, 4, 10, 11, 12], "quantif": [1, 2, 11], "layer": [1, 3, 4, 6, 10, 11, 12], "whether": [1, 10, 11, 12], "overwrit": [1, 11], "column": [1, 2, 6, 7, 11, 12], "store": [1, 2, 4, 6, 10, 11, 12], "id": [1, 6, 10, 12], "output": 1, "datafram": [1, 11, 12], "spatial_data": 1, "assertionerror": [1, 10, 11, 12], "present": [1, 10, 12], "remove_label_typ": 1, "cell_typ": [1, 2, 12], "s": [1, 4, 5, 6, 7, 8, 10, 11], "unlabel": 1, "categori": [1, 3], "among": 1, "first": [1, 2, 3, 4, 7, 10, 11], "set_label_color": [1, 2, 4, 7, 8], "either": [1, 5, 8, 10, 11], "whose": [1, 2], "none": [1, 3, 6, 10, 11, 12], "its": [1, 4, 11], "intern": 1, "set_label_nam": 1, "threshold_label": [1, 2, 7], "threshold_dict": [1, 2], "layer_kei": [1, 2, 3, 7, 10, 11], "binaris": 1, "threshold": [1, 2, 4, 5, 8, 11, 12], "onli": [1, 2, 3, 4, 6, 7, 8, 10, 11], "appli": [1, 2, 4, 5, 11, 12], "binari": [1, 3], "featur": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "_percentage_positive_intens": [1, 6], "comput": [1, 5], "compar": 1, "There": [2, 4, 8], "differ": [2, 5, 7, 8], "wai": [2, 3, 4, 5, 6, 11], "e": [2, 5, 7, 8, 10, 11, 12], "g": [2, 3, 5, 7, 8, 10, 11, 12], "follow": [2, 4, 5, 8], "notebook": [2, 3, 4, 5, 6], "demonstr": [2, 5], "some": [2, 3, 4, 5, 6, 7, 8, 10, 11], "common": 2, "subtyp": 2, "reload_ext": [2, 5, 6, 7, 8], "autoreload": [2, 4, 5, 6, 7, 8], "sp": [2, 3, 4, 6], "panda": [2, 6, 8, 9, 11], "pd": [2, 6, 8, 9, 11], "matplotlib": [2, 3, 4, 5, 7, 8, 10], "pyplot": [2, 3, 4, 5, 7, 8], "plt": [2, 3, 4, 5, 7, 8], "xarrai": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "scipi": [2, 3, 4, 5, 6, 7, 8, 9], "signal": [2, 4, 5], "medfilt2d": [2, 4, 5], "set_opt": [2, 5, 6, 7, 9], "display_styl": [2, 5, 6, 7, 9], "text": [2, 5, 6, 7, 9, 10], "lt": [2, 3, 4, 5, 6, 7, 8, 9], "core": [2, 5, 6, 7, 9], "0x7f12bb3ab310": 2, "gt": [2, 3, 4, 5, 6, 7, 8, 9], "ds": [2, 3, 5, 6, 7, 8, 9, 10], "load_dataset": [2, 3, 5, 6, 7, 8, 9], "bnhl_166_4_i2_lk": [2, 5, 7, 9], "_properti": [2, 3, 4, 5, 7, 8], "_label": [2, 3, 4, 5, 6, 7, 8, 9, 11], "drop_lay": [2, 5, 7, 8, 11], "_arcsinh_mean": [2, 5, 6, 7, 9], "_arcsinh_sum": [2, 5, 6, 7, 9], "_raw_mean": [2, 5, 6, 7, 9], "_raw_sum": [2, 5, 6, 7, 9], "opt": [2, 4, 5, 7, 8], "conda": [2, 4, 5, 6, 7, 8, 9], "lib": [2, 3, 4, 5, 6, 7, 8, 9], "python3": [2, 3, 4, 5, 6, 7, 8, 9], "10": [2, 3, 4, 5, 7, 8, 9, 10], "site": [2, 3, 4, 5, 6, 7, 8, 9], "packag": [2, 3, 4, 5, 6, 7, 8, 9, 12], "backend": [2, 3, 5, 6, 7, 8, 9], "plugin": [2, 3, 5, 6, 7, 8, 9], "py": [2, 3, 4, 5, 6, 7, 8, 9], "159": [2, 3, 5, 6, 7, 8, 9], "runtimewarn": [2, 3, 5, 6, 7, 8, 9], "39": [2, 3, 4, 5, 6, 7, 8, 9], "fail": [2, 3, 5, 6, 7, 8, 9], "while": [2, 3, 4, 5, 6, 7, 8, 9], "guess": [2, 3, 5, 6, 7, 8, 9], "warn": [2, 3, 4, 5, 6, 7, 8, 9], "f": [2, 3, 5, 6, 7, 8, 9], "34": [2, 3, 4, 5, 6, 7, 8, 9], "engin": [2, 3, 5, 6, 7, 8, 9], "r": [2, 3, 5, 6, 7, 8, 9], "percentil": [2, 4, 11], "median": [2, 4, 5], "filter": [2, 4, 5, 11], "pax5": [2, 3, 5, 7, 9, 10, 12], "cd3": [2, 3, 5, 6, 7, 9, 10, 12], "cd11b": [2, 12], "cd11c": [2, 7, 8], "cd15": 2, "cd68": [2, 6, 8, 9], "podoplanin": [2, 3], "cd31": [2, 3, 6], "cd34": [2, 3], "cd90": [2, 3, 9], "cd56": 2, "cd4": [2, 4, 7, 9], "cd8": [2, 3, 4, 6, 7, 9], "quantil": [2, 5, 11], "8": [2, 3, 4, 5, 6, 7, 8, 9, 11], "95": [2, 5, 8], "e6194b": [2, 3, 10], "3cb44b": [2, 3, 10], "ffe119": [2, 3, 10], "4363d8": [2, 3, 10], "ffd8b1": [2, 10], "f58231": [2, 3, 10], "911eb4": [2, 3, 10], "fffac8": [2, 10], "469990": [2, 10], "fabed4": [2, 10], "9a6324": [2, 10], "channels_celltyp": 2, "colors_celltyp": 2, "recomput": 2, "ds_process": 2, "kernel_s": [2, 4, 5], "add_quantif": [2, 4, 11], "func": [2, 4, 5, 11], "mean_intens": [2, 4], "transform_expression_matrix": [2, 4, 11], "arcsinh": [2, 4, 11], "skimag": [2, 4, 5, 11], "measur": [2, 4, 11], "_regionprop": [2, 4], "317": [2, 4], "userwarn": [2, 4], "extra": [2, 4], "shadow": [2, 4], "inaccess": [2, 4], "consid": [2, 4], "renam": [2, 4], "msg": [2, 4], "next": [2, 3, 4, 8], "one": [2, 3, 4, 5, 8], "anoth": 2, "raw": [2, 5], "vs": 2, "fig": [2, 4, 5, 7, 8], "ax": [2, 4, 5, 7, 8, 10], "subplot": [2, 4, 5, 7, 8], "figsiz": [2, 3, 4, 5, 7, 8], "_": [2, 3, 4, 5, 7, 8], "show": [2, 3, 4, 5, 6, 7, 8, 10], "set_titl": [2, 5, 8], "simplest": 2, "deriv": [2, 5, 11], "defin": 2, "between": 2, "most": [2, 3], "highli": [2, 4], "i": [2, 5, 11], "take": [2, 4, 8, 11], "what": [2, 3, 4, 7, 8], "below": [2, 3, 4, 5, 7, 8, 11], "ct_marker_dict": 2, "b": [2, 3, 5, 6, 7, 9, 12], "t": [2, 3, 4, 6, 7, 8, 9, 10, 12], "myeloid": [2, 3, 12], "dendrit": [2, 3, 8], "granulo": 2, "macro": [2, 3, 9], "stroma": [2, 3, 9], "pdpn": [2, 3], "nk": 2, "7": [2, 3, 4, 5, 6, 7, 8, 9], "argmai": 2, "ds_with_ct_predict": 2, "true": [2, 3, 4, 7, 8, 10, 11, 12], "match": [2, 8, 11], "skip": 2, "ct": 2, "render_imag": [2, 4, 7, 8, 10], "render_label": [2, 4, 7, 8, 10], "9": [2, 3, 4, 5, 6, 7, 8, 9, 10], "how": [2, 3, 4, 6, 7, 8], "readm": 2, "wa": [2, 8, 12], "21": [2, 4, 7, 8], "autocrop": [2, 3, 7, 10], "pad": [2, 10], "100": [2, 4, 5, 8], "dapi": [2, 4, 5, 6, 7, 8, 9, 11, 12], "render_segment": [2, 3, 4, 7, 8, 10], "x": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "y": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "tick": 2, "set_xtick": 2, "set_ytick": 2, "titl": 2, "tight_layout": [2, 7, 8], "veri": [2, 4, 7], "easi": [2, 4, 6, 7, 9], "howev": [2, 3, 5, 8], "sinc": [2, 3, 4, 8], "get_ob": 2, "celltypes_to_str": [2, 11], "allow": [2, 3, 4, 6, 7, 8, 9, 10], "you": [2, 3, 4, 5, 6, 7, 8, 10, 11], "more": [2, 4, 5, 7, 8, 10], "readabl": 2, "format": [2, 5, 6, 7, 10], "get_layer_as_df": [2, 4, 6, 7, 8, 11], "human": 2, "frame": 2, "_ob": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "_original_": [2, 5, 6, 7, 9], "centroid": [2, 3, 4, 5, 6, 7, 8, 9, 11, 12], "613": [2, 5, 7, 9], "329787": 2, "768": [2, 5, 6, 7, 9], "420213": 2, "769": 2, "098446": 2, "707": 2, "544041": 2, "774": 2, "528409": 2, "644": 2, "284091": 2, "775": [2, 4], "902878": 2, "592": 2, "744604": 2, "668": 2, "844749": 2, "729": 2, "310502": 2, "12556": [2, 5, 7, 9], "2340": 2, "362319": 2, "1846": 2, "492754": 2, "12557": [2, 5, 7, 9], "2216": 2, "324138": 2, "2296": 2, "089655": 2, "12558": [2, 5, 6, 7, 9], "2265": 2, "910853": 2, "2231": 2, "992248": 2, "12559": [2, 5, 6, 7, 9], "2281": 2, "480687": 2, "2218": 2, "424893": 2, "12560": [2, 5, 6, 7, 9], "2249": 2, "069444": 2, "2236": 2, "564815": 2, "row": [2, 6], "also": [2, 3, 4, 5, 6, 7, 8, 9, 11, 12], "involv": 2, "here": [2, 3, 4, 5, 7, 8], "quick": [2, 3, 7], "could": [2, 3, 4, 7, 8], "previou": 2, "11": [2, 4, 5, 7, 8, 9], "dimens": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "3000": [2, 5, 6, 7, 9], "13": [2, 5, 7, 8, 9], "int64": [2, 3, 4, 5, 6, 7, 8, 9], "u11": [2, 3, 5, 6, 7, 8, 9], "x27": [2, 3, 4, 5, 6, 7, 8, 9], "u10": [2, 3, 4, 5, 6, 7, 8, 9], "u6": [2, 3, 4, 5, 6, 7, 8, 9], "_color": [2, 3, 4, 5, 6, 7, 8, 9], "_name": [2, 3, 4, 5, 6, 7, 8, 9], "2994": [2, 5, 7, 9], "2995": [2, 5, 7, 9], "2996": [2, 5, 6, 7, 9], "2997": [2, 5, 6, 7, 9], "2998": [2, 5, 6, 7, 9], "2999": [2, 5, 6, 7, 9], "variabl": [2, 3, 4, 5, 6, 7, 8, 9, 10], "float64": [2, 3, 4, 5, 6, 7, 8, 9], "_segment": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "c3": [2, 5, 7, 9, 10], "_imag": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "413": 2, "3745": 2, "01481": 2, "12": [2, 4, 5, 7, 8, 9, 10, 12], "minor": 2, "reform": 2, "seg": 2, "ds_for_astir": 2, "add_segment": [2, 4, 8, 11], "249e": [2, 7], "03": [2, 3, 4, 5, 6, 7, 8, 9], "237e": [2, 6, 7], "15": [2, 4, 7, 8, 9], "slightli": 2, "structur": [2, 3], "ds_with_ct_predictions_astir": 2, "uint8": [2, 3, 5, 6, 7, 8, 9, 12], "requir": [2, 4, 7, 8, 10, 12], "work": [2, 4, 5, 6, 7, 8], "properli": 2, "dtype": [2, 3, 4, 5, 6, 8], "oper": [2, 4, 12], "mai": [2, 5, 8, 11], "ignor": [2, 11], "train": [2, 4, 7, 8], "restart": 2, "44": [2, 3, 4, 6, 8], "epoch": [2, 12], "current": [2, 4, 7, 8, 10], "loss": 2, "42378": 2, "42": [2, 3, 4, 8, 12], "44151": 2, "24": [2, 7, 8], "44696": 2, "30": [2, 4, 5, 7, 8], "42463": 2, "28": [2, 6, 7, 8], "43272": 2, "final": [2, 4, 7, 9], "20": [2, 4, 5, 7, 8, 9], "500": [2, 4, 5, 7, 12], "51": [2, 8, 9], "72852": 2, "16": [2, 4, 7, 8, 9, 10], "back": [2, 8], "other": [2, 4, 7, 8], "darkgrai": 2, "add_observ": [2, 4, 7, 8, 11], "17": [2, 4, 7, 8, 9], "18": [2, 4, 7, 8], "For": [2, 4, 6, 7, 10], "we": [2, 3, 4, 5, 6, 7, 8, 9], "want": [2, 3, 4, 6, 7, 8, 11], "posit": [2, 4, 8], "neg": [2, 3], "achiev": 2, "19": [2, 4, 7, 8], "percentage_posit": 2, "key_ad": [2, 8, 11, 12], "_percentage_posit": 2, "percentag": 2, "ds_with_binar": 2, "red": [2, 3, 4, 5, 7, 10], "green": [2, 3, 4, 10], "blue": [2, 3, 4, 7], "gold": [2, 5, 7, 8], "scatter": [2, 7, 10], "pax5_binar": 2, "size": [2, 4, 7, 8, 10, 12], "palett": [2, 7, 10], "grai": [2, 7], "cd3_binar": [2, 6], "cd4_binar": [2, 7], "cd8_binar": 2, "just": [2, 5, 11], "subset": [2, 4, 7, 8, 11], "singl": [2, 5, 6, 8, 10, 11], "low": [2, 4], "onc": [2, 6, 10], "all": [2, 3, 4, 7, 8, 9, 10, 11, 12], "illustr": [2, 5, 7], "purpos": [2, 4], "have": [2, 3, 4, 5, 6, 7, 8, 10, 11], "relax": 2, "80": [2, 8], "previous": 2, "choos": 2, "concept": [2, 5], "when": [2, 8, 9, 10, 11], "22": [2, 4, 7, 8], "ds_with_binarization_cd4": [2, 7], "second": [2, 5, 7], "look": [2, 4, 5, 7, 8], "ds_with_binarization_cd4_t": 2, "23": [2, 4, 7, 8], "legend_label": [2, 8, 10], "cd4_t_binar": 2, "sometim": [3, 4, 7, 8], "happen": 3, "part": 3, "tissu": [3, 7, 10], "usabl": 3, "analysi": [3, 4, 6], "due": 3, "artifact": [3, 4], "poor": [3, 4], "qualiti": 3, "certain": [3, 5, 8, 10], "In": [3, 4, 5, 6, 7, 8], "case": [3, 4, 6, 7, 8], "make": [3, 4, 7, 8, 9], "sens": 3, "out": [3, 4, 5, 6], "problemat": 3, "still": 3, "downstream": [3, 4, 6], "influenc": 3, "result": [3, 4, 6, 7, 8, 12], "user": [3, 4, 7, 8], "upload": 3, "suitabl": 3, "further": [3, 5, 7], "obtain": [3, 7], "run": [3, 6, 8], "jupyt": [3, 4], "lab": 3, "ha": [3, 4, 7, 11, 12], "implement": [3, 4], "jupyterhub": 3, "moment": [3, 10], "33": [3, 8], "np": [3, 5, 6, 11], "pil": 3, "4_b4": 3, "figur": [3, 5, 7], "mbender": 3, "mambaforg": 3, "env": [3, 6], "interactive_cropping_env": 3, "8395": 3, "celltype_level": 3, "1811": 3, "1721": 3, "rgba": 3, "8391": 3, "8392": 3, "8393": 3, "8394": 3, "u8": 3, "labels_1": 3, "labels_2": 3, "bcl": [3, 6], "ccr7": 3, "ki": [3, 5, 6, 7, 9], "67": [3, 5, 6, 7, 8, 9], "70": [3, 6, 8, 11], "71": [3, 8], "72": [3, 8], "73": [3, 8], "74": [3, 8], "1786": 3, "1787": 3, "1788": 3, "1789": 3, "1790": 3, "120": [3, 8], "121": [3, 8], "122": [3, 8], "123": [3, 8], "124": [3, 8], "1927": 3, "1928": 3, "1929": 3, "1930": 3, "u1": 3, "_celltype_predict": 3, "933": 3, "_plot": 3, "02338": 3, "02922": 3, "01153": 3, "0xarrai": [3, 4, 8], "datasetdimens": [3, 4, 8], "8395celltype_level": 3, "3channel": 3, "3y": [3, 8], "1811x": 3, "1721featur": 3, "9label": 3, "9prop": 3, "2rgba": 3, "4coordin": 3, "int641": [3, 4, 8], "8395arrai": 3, "lag3": 3, "tim3": 3, "9arrai": [3, 4], "int6470": 3, "1790arrai": 3, "int64120": 3, "1930arrai": 3, "uint81": 3, "0arrai": [3, 4, 8], "float641": [3, 4, 8], "872e": 3, "00000000e": [3, 8], "00": [3, 4, 8], "64159722e": 3, "02": [3, 4, 5, 6, 7, 9], "96729167e": 3, "69883041e": 3, "29573099e": 3, "69355769e": 3, "01019231e": 3, "87248333e": 3, "13303333e": 3, "87208046e": 3, "79931034e": 3, "87214516e": 3, "33123656e": 3, "bfef45": [3, 10], "42d4f4": [3, 10], "f032e6": [3, 10], "int640": [3, 4, 8], "float640": [3, 4], "0image_color": 3, "02337562": 3, "02921953": 3, "01614764": 3, "0141484": 3, "00153787": 3, "00461361": 3, "00922722": 3, "02768166": 3, "01153403": 3, "01937716": 3, "05813149": 3, "02422145": 3, "cellspandasindexpandasindex": [3, 4, 8], "8386": 3, "8387": 3, "8388": 3, "8389": 3, "8390": 3, "length": [3, 4, 8], "celltype_levelspandasindexpandasindex": 3, "channelspandasindexpandasindex": [3, 4, 8], "featurespandasindexpandasindex": [3, 4, 8], "labelspandasindexpandasindex": [3, 4, 8], "propspandasindexpandasindex": [3, 4, 8], "xpandasindexpandasindex": [3, 4, 8], "75": [3, 8, 9], "76": [3, 8], "77": [3, 8, 9], "78": [3, 4, 7, 8], "79": [3, 6, 8], "1781": 3, "1782": 3, "1783": 3, "1784": 3, "1785": 3, "ypandasindexpandasindex": [3, 4, 8], "125": [3, 4, 8], "126": [3, 8], "127": [3, 8], "128": [3, 8], "129": [3, 4, 8], "1921": 3, "1922": 3, "1923": 3, "1924": 3, "1925": 3, "1926": 3, "rgbapandasindexpandasindex": 3, "attribut": [3, 4, 8], "35": [3, 4, 8, 9], "need": [3, 4, 6, 8, 11], "our": [3, 4, 5, 7, 8, 9], "extract": [3, 8, 12], "keep": [3, 4, 8, 11], "alpha": [3, 7, 10], "everywher": 3, "podoplanin_img": 3, "stack": [3, 10], "rgba_imag": 3, "zeros_lik": 3, "ones_lik": 3, "255": [3, 5, 8], "axi": [3, 10], "imshow": [3, 7, 10], "axesimag": 3, "0x16a049390": 3, "36": [3, 7, 8], "up": [3, 4, 8], "ultim": 3, "becom": [3, 10], "tell": [3, 4, 7, 8], "where": [3, 4, 5, 7, 8, 11], "annodict": 3, "yellow": [3, 4], "zero": [3, 5], "shape": [3, 4, 6, 7, 11], "37": [3, 4, 8], "setup": 3, "panel": 3, "pn": 3, "socket": 3, "os": [3, 6], "tissue_tag": 3, "tt": 3, "environ": 3, "bokeh_allow_ws_origin": 3, "host": 3, "8888": 3, "38": [3, 7, 8], "accord": 3, "abov": [3, 5], "render_dict": 3, "anno_dict": 3, "use_datashad": 3, "io": [3, 4], "show_serv": 3, "notebook_url": 3, "gethostnam": 3, "bokeh": 3, "server": 3, "version": [3, 4, 7, 8], "tornado": 3, "authent": 3, "hook": 3, "NOT": 3, "enabl": [3, 7, 11, 12], "0x16a01c0a0": 3, "200": [3, 4, 8], "autoload": 3, "js": 3, "element": [3, 6, 10], "f1ca8cc2": 3, "1758": 3, "4c3d": 3, "a83c": 3, "757b15543c0d": 3, "amp": 3, "absolut": [3, 5, 11], "url": 3, "http": [3, 4, 7, 8], "mac": 3, "huber33": 3, "local": [3, 5], "53395": 3, "resourc": 3, "189": [3, 8], "82m": 3, "info": [3, 6], "access": 3, "static": 3, "min": 3, "v": [3, 6], "0a5da0be1c2385c8fbc778b6fe92af35da98e7b160ed40850e1b234b02df34a055ca50d37f82f056d346f1a6812c836eecbfb99371cfc264da60861011003592": 3, "30m": 3, "30dd48a6c21439042b22c0586013c023610fdaba3c28ecd2549991ee689caaf69984c17f610f0259a9e7b9a0cec40dd018f52d36b47a6bd65e10d9885d3a861": 3, "60m": 3, "extens": 3, "6c2906ba8ee98ee2fe96712bd552abc490c7d847b686180f7d054bab534e4685": 3, "84m": 3, "gl": 3, "2bba96f5a73c631f21cb84fc6eb04f860e9b43e809ffaf3e7c7a60109b6c6c42a9b83a3d4bdadb0cb023bd48069e8d5cb2ee624da5fa4d5839469ac6818a41af": 3, "07m": 3, "widget": 3, "bf4eea8535eba9536cc13c5656d74f40bbf1448e73e48ddf7eaddff850f7d0093bc141ef1da5e7579585c338db8db7bb4b306cbcde009d4dbe9af2e7c2d609fb": 3, "25m": 3, "101": [3, 8, 9], "ws": 3, "31m": 3, "websocket": 3, "connect": 3, "open": [3, 4, 7, 8], "serverconnect": 3, "update_annot": 3, "imarrai": 3, "40": [3, 4, 8], "invert": 3, "so": [3, 4, 8, 10], "should": [3, 4, 5, 7, 8, 11], "everyth": 3, "els": [3, 12], "41": [3, 4, 8], "_mask": [3, 11], "add_lay": [3, 11], "conceptu": 3, "similar": [3, 7, 10], "43": [3, 4, 6, 7, 8], "ds_masked_intens": 3, "mask_region": [3, 11], "see": [3, 4, 7, 8, 9, 11], "top": 3, "those": [3, 7, 11], "time": [3, 4, 7, 8, 9], "do": [3, 4, 6, 7, 8, 9], "instead": [3, 7, 8, 10, 11], "were": 3, "area": [3, 4, 5, 7, 8, 11], "stick": 3, "origin": [3, 10, 11, 12], "45": [3, 4, 8, 9], "ds_masked_cel": 3, "mask_cel": [3, 11], "cours": [3, 5], "combin": [3, 5, 6, 7], "two": [3, 4, 7, 8, 11, 12], "46": [3, 6, 8], "welcom": 4, "go": 4, "through": 4, "step": [4, 5], "read": [4, 6], "multiplex": 4, "basic": [4, 5], "boost": [4, 5], "nois": [4, 5], "ratio": [4, 5], "simpl": [4, 7], "techniqu": 4, "load_ext": 4, "imread": 4, "befor": [4, 8, 10], "done": [4, 6, 8, 11], "tifffil": 4, "librari": 4, "displai": [4, 7, 10], "input": [4, 11], "tiff": [4, 6], "within": [4, 7, 10], "To": [4, 5, 7, 8, 9, 11], "feed": 4, "sp_object": 4, "load_image_data": 4, "channel_coord": 4, "foxp3": [4, 6], "bcl6": 4, "simpli": [4, 6, 7, 8, 9], "inspect": 4, "call": [4, 5, 7, 8, 10], "u5": 4, "492": 4, "493": 4, "494": 4, "495": 4, "496": 4, "497": 4, "498": 4, "499": 4, "uint16": [4, 8], "10816": 4, "12359": 4, "14504": 4, "10965": 4, "147": [4, 8, 9], "149": [4, 8, 9], "59xarrai": 4, "5y": 4, "500x": 4, "500coordin": 4, "499arrai": 4, "uint1610816": 4, "59arrai": 4, "8317": 4, "8919": 4, "8115": 4, "10863": 4, "10951": 4, "11972": 4, "8847": 4, "7674": 4, "7324": 4, "11379": 4, "8648": 4, "8514": 4, "6802": 4, "5289": 4, "5650": 4, "9458": 4, "5985": 4, "2289": 4, "4701": 4, "2877": 4, "884": 4, "11675": 4, "5429": 4, "2905": 4, "4871": 4, "3151": 4, "1291": [4, 8], "7802": 4, "3931": 4, "4377": 4, "4068": 4, "3155": 4, "1503": 4, "1462": 4, "172": [4, 8], "1210": 4, "735": 4, "507": 4, "1187": 4, "181": [4, 8], "98": [4, 8, 9], "1513": 4, "506": 4, "316": 4, "1303": 4, "188": [4, 8], "247": [4, 8], "1525": 4, "441": 4, "193": [4, 8], "346": [4, 5, 6, 7, 9], "795": 4, "2618": 4, "1174": 4, "815": 4, "1095": 4, "1208": 4, "1954": 4, "2883": 4, "2062": 4, "1266": 4, "3741": 4, "3775": 4, "2779": 4, "3073": 4, "1449": 4, "973": 4, "8356": 4, "1092": 4, "66": [4, 6, 8], "3192": 4, "390": 4, "314": 4, "244": [4, 8], "3710": 4, "1156": 4, "957": 4, "959": 4, "82": [4, 8], "14": [4, 5, 7, 8, 9], "746": 4, "3782": 4, "27": [4, 7, 8], "567": 4, "3375": 4, "10237": 4, "88": [4, 8], "3861": 4, "6956": 4, "9181": 4, "61": [4, 8], "81": [4, 8], "280": [4, 7, 8], "248": [4, 8], "87": [4, 8], "68": [4, 6, 8], "59": [4, 8], "398": 4, "235": [4, 8], "117": [4, 8], "367": 4, "163": [4, 8], "138": [4, 8], "168": [4, 8, 9], "50": [4, 5, 7, 8, 9, 10], "137": [4, 8], "60": [4, 8], "53": [4, 8, 9], "213": [4, 8], "92": [4, 8], "293": [4, 8], "135": [4, 8], "219": [4, 8], "372": 4, "281": [4, 8], "134": [4, 8], "395": 4, "270": [4, 8], "365": 4, "397": 4, "218": [4, 8], "296": [4, 8], "275": [4, 8], "297": 4, "234": [4, 8], "114": [4, 8], "310": 4, "216": [4, 8], "269": [4, 8], "207": [4, 8], "205": [4, 8], "222": [4, 8], "195": [4, 8], "305": 4, "233": [4, 8], "332": 4, "int64index": [4, 8], "490": 4, "491": 4, "fluoresc": 4, "frequent": 4, "suffer": 4, "allevi": 4, "problem": [4, 8], "therebi": 4, "contrast": 4, "autom": [4, 5], "determin": [4, 10], "difficult": 4, "come": 4, "therefor": 4, "manual": [4, 5, 8], "let": [4, 5, 6, 7, 8], "form": 4, "bit": 4, "much": [4, 8], "feel": 4, "promis": [4, 5], "about": 4, "good": [4, 5], "clearer": [4, 7], "codeblock": 4, "2d": [4, 11], "kernel": 4, "smooth": [4, 5], "great": 4, "univers": [4, 8], "hand": 4, "membran": [4, 8, 12], "nuclei": [4, 8], "extend": 4, "direct": [4, 8], "neither": [4, 7], "torch": [4, 7, 8], "cuda": [4, 7, 8], "nor": [4, 7], "mp": [4, 7], "instal": [4, 7, 8, 12], "cpu": [4, 7, 8], "cyto3": [4, 7, 8, 12], "model": [4, 7, 8, 12], "home": [4, 6, 7, 8, 9], "meyerben": [4, 6, 7, 8], "resnet_torch": [4, 7, 8], "futurewarn": [4, 7, 8], "weights_onli": [4, 7, 8], "pickl": [4, 7, 8], "implicitli": [4, 7, 8], "possibl": [4, 7, 8, 9, 10], "construct": [4, 7, 8], "malici": [4, 7, 8], "execut": [4, 7, 8], "arbitrari": [4, 7, 8], "dure": [4, 7, 8], "unpickl": [4, 7, 8], "github": [4, 7, 8], "com": [4, 7, 8], "pytorch": [4, 7, 8], "blob": [4, 7, 8], "main": [4, 7, 8], "secur": [4, 7, 8], "md": [4, 7, 8], "untrust": [4, 7, 8], "detail": [4, 7, 8], "futur": [4, 7, 8], "releas": [4, 7, 8], "flip": [4, 7, 8], "limit": [4, 7, 8], "longer": [4, 7, 8], "via": [4, 7, 8, 10], "mode": [4, 7, 8, 10, 11], "unless": [4, 7, 8], "thei": [4, 7, 8, 11, 12], "explicitli": [4, 7, 8], "allowlist": [4, 7, 8], "serial": [4, 7, 8], "add_safe_glob": [4, 7, 8], "recommend": [4, 7, 8], "don": [4, 7, 8], "full": [4, 7, 8], "control": [4, 7, 8, 10], "pleas": [4, 7, 8, 10], "issu": [4, 6, 7, 8], "relat": [4, 7, 8], "experiment": [4, 7, 8], "state_dict": [4, 7, 8], "filenam": [4, 7, 8], "map_loc": [4, 7, 8], "devic": [4, 7, 8], "diam_mean": [4, 7, 8], "000": [4, 7, 8], "roi": [4, 7, 8], "rescal": [4, 7, 8, 11], "estim": [4, 7, 8], "diamet": [4, 7, 8, 12], "32": [4, 8], "sec": [4, 7, 8], "90": [4, 8], "find": [4, 5, 7, 8], "total": [4, 5, 7, 8], "26": [4, 6, 7, 8], "69": [4, 6, 8], "realiz": 4, "_cellpose_segment": [4, 7, 8, 12], "appear": [4, 5, 10], "anyth": [4, 12], "inform": [4, 11], "treat": [4, 8], "now": [4, 8], "caus": 4, "gener": [4, 7], "after": [4, 5, 8, 10, 11, 12], "alwai": [4, 5, 7, 8], "afterward": 4, "reason": [4, 6], "later": [4, 6, 8, 9], "track": 4, "thing": [4, 8], "like": [4, 6, 7], "etc": 4, "synchron": 4, "know": 4, "1335": 4, "1331": 4, "1332": 4, "1333": 4, "1334": 4, "602e": 4, "538": 4, "262": [4, 8], "500cell": 4, "1335featur": 4, "2coordin": [4, 8], "1335arrai": 4, "69e": 4, "000e": 4, "690e": 4, "476e": 4, "413e": 4, "555e": 4, "541e": 4, "389e": 4, "387e": 4, "031e": 4, "085e": 4, "168e": 4, "158e": 4, "801e": 4, "616e": 4, "116e": 4, "894e": 4, "890e": 4, "01": 4, "670e": 4, "420e": 4, "800e": 4, "900e": 4, "uint160": [4, 8], "474": 4, "53846154": 4, "88461538": 4, "47368421": 4, "56": [4, 5, 6, 7, 8, 9], "31578947": 4, "14285714": 4, "62": [4, 8], "71428571": 4, "13513514": 4, "289": [4, 8], "83783784": 4, "423": 4, "1326": 4, "1327": 4, "1328": 4, "1329": 4, "1330": 4, "over": [4, 7, 11], "exactli": [4, 7], "did": 4, "zoom": [4, 5], "littl": 4, "pictur": [4, 7], "300": 4, "One": [4, 9], "small": [4, 8], "henc": 4, "too": 4, "big": 4, "addit": [4, 7, 10, 11, 12], "grow": [4, 7, 8, 11], "try": [4, 5, 8], "captur": [4, 8], "cytosol": 4, "distribut": [4, 7, 8], "df": [4, 6, 7, 11], "hist": [4, 7, 8], "bin": [4, 7, 8], "less": [4, 8], "than": [4, 7, 8, 10, 11], "150": [4, 8, 9], "filter_by_ob": [4, 8, 11], "lambda": [4, 8, 11, 12], "expand": [4, 11], "grow_cel": [4, 7, 8, 11], "iter": [4, 7, 11, 12], "recalcul": [4, 7, 8], "sensibl": 4, "transform": [4, 11], "been": 4, "proven": 4, "pretti": 4, "well": [4, 5, 6], "1320": 4, "1316": 4, "1317": 4, "1318": 4, "1319": 4, "85": [4, 8], "422": 4, "025": 4, "431": 4, "26xarrai": 4, "1320featur": 4, "1320arrai": 4, "462": 4, "46153846": 4, "73076923": 4, "166": [4, 8], "8021978": 4, "4625": 4, "202": [4, 8], "9875": 4, "71698113": 4, "290": [4, 8], "75471698": 4, "14864865": 4, "90540541": 4, "float648": 4, "524": 4, "9862": 4, "26arrai": 4, "02533989": 4, "4310775": 4, "52379938": 4, "4860095": 4, "74345457": 4, "86294729": 4, "99507279": 4, "92916089": 4, "6463534": 4, "67307389": 4, "94682454": 4, "77807688": 4, "07465591": 4, "23872049": 4, "71636523": 4, "00547159": 4, "43972698": 4, "71033224": 4, "00423785": 4, "50734018": 4, "52182503": 4, "97424798": 4, "69704542": 4, "38696719": 4, "22144918": 4, "98622367": 4, "26038737": 4, "1311": 4, "1312": 4, "1313": 4, "1314": 4, "1315": 4, "As": [4, 9], "introduc": 4, "beforehand": 4, "idea": [4, 5], "t_h": 4, "t_tox": 4, "t_reg": 4, "t_fh": 4, "b903aa": 4, "4prop": 4, "2channel": [4, 8], "3coordin": [4, 8], "4arrai": [4, 8], "d16100": 4, "ff8a9a": 4, "34362d": 4, "float644": 4, "coupl": 4, "furthermor": 4, "And": 4, "immunofluoresc": 4, "question": 4, "exemplari": 5, "algorithm": [5, 12], "99": [5, 8, 11], "wherea": 5, "correctli": [5, 6], "0x7f890186f370": 5, "conveni": [5, 7], "focus": 5, "better": 5, "ds_single_channel": 5, "ikzf3": 5, "ds_multichannel": 5, "helio": [5, 6, 7, 9], "cd10": [5, 6, 7, 9], "cd79a": [5, 6, 7, 9], "111": [5, 6, 7, 8, 9], "391": [5, 7, 9], "324": [5, 7, 8, 9], "4174": [5, 6, 7, 9], "564": [5, 7, 9], "625": [5, 7, 9], "224": [5, 6, 7, 8, 9], "426": [5, 7, 9], "727": [5, 7, 9], "148": [5, 6, 7, 8, 9], "053e": [5, 6, 7, 9], "04": [5, 6, 7, 9], "885e": [5, 7, 9], "464": [5, 7, 9], "seem": 5, "fairli": 5, "unspecif": 5, "bind": 5, "mean": 5, "rang": 5, "enumer": 5, "999": 5, "deepskyblu": [5, 7, 8], "medianfilt": 5, "reduc": 5, "choic": 5, "With": [5, 7], "your": [5, 6, 7, 8], "multichannel": 5, "applic": [5, 12], "ndimag": 5, "gaussian_filt": 5, "def": 5, "multiply_arrai": 5, "arr": 5, "factor": [5, 10, 11, 12], "clip": [5, 11], "astyp": [5, 6], "sigma": 5, "gaussian": 5, "variat": 5, "larg": [5, 12], "gradient": 5, "impli": 5, "rapid": 5, "fluctuat": 5, "restor": 5, "denoise_tv_chambol": 5, "view": 5, "1000": [5, 7, 8], "1500": [5, 7], "weight": [5, 8], "001": [5, 12], "variou": 5, "local_threshold_single_channel": 5, "im": [5, 10], "selem": 5, "morpholog": 5, "disk": [5, 6], "im_mean": 5, "rank": 5, "footprint": 5, "automat": 5, "approach": 5, "highest": 5, "rate": [5, 11, 12], "chang": 5, "find_optimal_threshold": 5, "min_k": 5, "max_k": 5, "arr_mean": 5, "k": [5, 8], "linspac": 5, "n_pix": 5, "empty_lik": 5, "len": 5, "sum": 5, "rough": 5, "dn_pix_dk2": 5, "diff": 5, "maxim": 5, "max_ind": 5, "k_opt": 5, "print": 5, "optim": 5, "8585858585858586": 5, "particular": 5, "instanc": [5, 12], "cutoff": 5, "best": 5, "situat": 5, "shutil": 6, "0x7f265b472320": 6, "seen": 6, "read_from_spatialdata": 6, "spatialdata_exampl": 6, "image_kei": [6, 11, 12], "raccoon": 6, "root_attr": 6, "multiscal": 6, "omero": 6, "coordinatetransform": 6, "scale": [6, 11, 12], "path": 6, "resolut": 6, "c": [6, 12], "1024": 6, "chunk": 6, "760": 6, "761": 6, "762": 6, "763": 6, "764": 6, "765": 6, "766": 6, "767": 6, "1018": 6, "1019": 6, "1020": 6, "1021": 6, "1022": 6, "1023": 6, "63": [6, 8], "64": [6, 8, 12], "65": [6, 8], "dask": 6, "chunksiz": 6, "meta": 6, "402": 6, "736": 6, "890": 6, "happi": 6, "easiest": 6, "support": [6, 10], "test": 6, "notic": [6, 8], "tmp": 6, "spatialproteomics_env": 6, "netcdf4": 6, "u14": 6, "cent": 6, "c8a1a1": 6, "line": 6, "to_zarr": 6, "your_path": 6, "might": [6, 7, 8], "pars": 6, "known": 6, "hopefulli": 6, "fix": [6, 8], "soon": 6, "unicod": 6, "necessari": 6, "box": [6, 10, 11], "zarr_path": 6, "rmtree": 6, "zarrstor": 6, "0x7ffcc2566440": 6, "sai": [6, 7], "head": 6, "tcf7": 6, "tcf1": 6, "l1": 6, "cd69": 6, "perforin": 6, "cd19": 6, "cd45": 6, "cytokeratin": 6, "cd45ro": 6, "granyzm": 6, "111332": 6, "391040": 6, "532299": 6, "700792": 6, "000000": 6, "026824": 6, "029783": 6, "345229": 6, "018150": 6, "460342": 6, "595998": 6, "719421": 6, "714288": 6, "428276": 6, "528275": 6, "458260": 6, "804985": 6, "168321": 6, "395341": 6, "847262": 6, "002073": 6, "559274": 6, "294762": 6, "303109": 6, "642876": 6, "328594": 6, "799208": 6, "029083": 6, "426344": 6, "528429": 6, "380220": 6, "733945": 6, "666575": 6, "020150": 6, "066995": 6, "397469": 6, "013636": 6, "822320": 6, "412199": 6, "153628": 6, "763425": 6, "767838": 6, "036900": 6, "571746": 6, "727335": 6, "497415": 6, "987283": 6, "297533": 6, "607904": 6, "572571": 6, "003597": 6, "960472": 6, "004317": 6, "297740": 6, "242867": 6, "149749": 6, "583574": 6, "473159": 6, "804046": 6, "425201": 6, "427177": 6, "436378": 6, "120023": 6, "542808": 6, "928561": 6, "155537": 6, "463069": 6, "010959": 6, "872304": 6, "079369": 6, "005996": 6, "212105": 6, "894870": 6, "299642": 6, "743329": 6, "518868": 6, "011288": 6, "488958": 6, "to_csv": 6, "scanpi": 6, "interest": [6, 7, 8], "analys": 6, "tabular": 6, "matrix": [6, 7, 11, 12], "adata": [6, 12], "ext": 6, "convert_to_anndata": [6, 12], "expression_matrix_kei": [6, 12], "additional_lay": [6, 12], "arcsinh_sum": 6, "raw_mean": 6, "raw_sum": 6, "additional_un": [6, 12], "label_color": 6, "n_ob": 6, "n_var": 6, "un": [6, 12], "write": 6, "hdf5": 6, "h5ad": 6, "commonli": 6, "omic": 6, "power": 6, "54": [6, 8, 9], "spatialdata_object": 6, "convert_to_spatialdata": [6, 12], "transpos": 6, "spatialimag": 6, "cyx": 6, "yx": 6, "spatialdata_attr": 6, "system": 6, "global": 6, "channels_metadata": 6, "1548": 6, "1452": 6, "parent": 6, "ome_zarr": 6, "reader": 6, "0x7fffc1abe670": 6, "varieti": 7, "0x7fef5ee8b2e0": 7, "capabl": 7, "pattern": 7, "avail": [7, 8, 10, 11], "shown": 7, "orang": [7, 8], "overlai": [7, 9], "quickli": [7, 9], "accept": 7, "easili": 7, "modifi": [7, 10], "normal": [7, 10, 11, 12], "api": 7, "popul": 7, "By": 7, "legend": [7, 10], "disabl": 7, "legend_imag": [7, 10], "alter": 7, "ticklabel": 7, "snip": 7, "highlight": [7, 10], "empti": 7, "space": 7, "around": [7, 10], "microarrai": 7, "xtick": 7, "ytick": 7, "retain": 7, "render_ob": 7, "cmap": 7, "plasma": 7, "legend_ob": [7, 10], "concaten": [7, 8], "simultan": 7, "deactiv": 7, "boundari": [7, 10], "lie": 7, "rather": 7, "add_box": [7, 10], "1230": 7, "1480": 7, "640": 7, "840": [7, 9], "label_kwarg": [7, 10], "gain": 7, "high": [7, 10], "level": [7, 8, 10], "wrapper": [7, 8, 10], "nuanc": 7, "adjust": 7, "few": 7, "consult": 7, "document": [7, 8], "scatterplot": 7, "instad": 7, "scatter_label": [7, 10], "continu": [7, 11], "ds_tmp": 7, "scatter_kw": [7, 10], "ylorrd": 7, "lastli": 7, "same": [7, 8, 9, 11], "2000": [7, 12], "2500": 7, "25": [7, 8], "ds_multisegment": 7, "independ": [7, 8, 11, 12], "joint": [7, 8, 12], "channel_set": [7, 8, 12], "appropri": [7, 8], "07": 7, "segmentation_kwarg": [7, 10], "histogram": [7, 8], "29": [7, 8, 9], "sidenot": 7, "vornoi": 7, "diagram": 7, "distanc": 7, "describ": 8, "nucleu": 8, "segmentation_exampl": 8, "1300": 8, "301": 8, "na": 8, "atpas": 8, "1001": 8, "1002": 8, "1003": 8, "1004": 8, "1296": 8, "1297": 8, "1298": 8, "1299": 8, "86": 8, "83": 8, "4xarrai": 8, "4y": 8, "301x": 8, "301coordin": 8, "int641000": 8, "1300arrai": 8, "uint886": 8, "52": [8, 9], "49": 8, "58": 8, "47": 8, "48": 8, "31": 8, "1005": 8, "1006": 8, "1007": 8, "1008": 8, "1009": 8, "1292": 8, "1293": 8, "1294": 8, "1295": 8, "relev": [8, 10], "refer": [8, 10], "ds_cellpos": 8, "91": 8, "97": 8, "2y": 8, "uint828": 8, "35arrai": 8, "330": 8, "old": 8, "325": 8, "326": 8, "327": 8, "328": 8, "329": 8, "005e": 8, "011e": 8, "003e": 8, "03xarrai": 8, "301cell": 8, "330featur": 8, "330arrai": 8, "03arrai": 8, "44486692": 8, "1011": 8, "45247148": 8, "18024691": 8, "1033": 8, "65185185": 8, "6344086": 8, "1051": 8, "02150538": 8, "13888889": 8, "1063": 8, "79166667": 8, "87784091": 8, "1070": 8, "73011364": 8, "68398268": 8, "1088": 8, "97841727": 8, "1103": 8, "46753247": 8, "1119": 8, "64935065": 8, "8343949": 8, "1132": 8, "65605096": 8, "52674897": 8, "1147": 8, "69958848": 8, "02491103": 8, "1165": 8, "59430605": 8, "45833333": 8, "1177": 8, "80555556": 8, "65697674": 8, "1207": 8, "00581395": 8, "34536082": 8, "1257": 8, "71134021": 8, "11458333": 8, "1279": 8, "29166667": 8, "375": 8, "54375": 8, "1190": 8, "071875": 8, "1010": 8, "24773414": 8, "1222": 8, "36555891": 8, "77003484": 8, "1239": 8, "20557491": 8, "98924731": 8, "1111": 8, "97311828": 8, "1278": 8, "83141762": 8, "1143": 8, "9030837": 8, "1030": 8, "79295154": 8, "1282": 8, "31125828": 8, "36423841": 8, "1288": 8, "2875817": 8, "1120": 8, "708061": 8, "1289": 8, "25964912": 8, "1040": 8, "62807018": 8, "1285": 8, "59235669": 8, "84394904": 8, "1286": 8, "17525773": 8, "1260": 8, "2628866": 8, "04333333": 8, "1198": 8, "57": 8, "76452599": 8, "1237": 8, "55045872": 8, "89776358": 8, "1138": 8, "1341853": 8, "83713355": 8, "1216": 8, "22149837": 8, "02068966": 8, "1056": 8, "47241379": 8, "96491228": 8, "1097": 8, "3754386": 8, "05338078": 8, "34875445": 8, "54597701": 8, "23563218": 8, "40883978": 8, "1074": 8, "14364641": 8, "50806452": 8, "1251": 8, "9516129": 8, "56353591": 8, "1268": 8, "74585635": 8, "94805195": 8, "1182": 8, "46103896": 8, "91935484": 8, "46774194": 8, "321": 8, "322": 8, "323": 8, "drop": [8, 9, 11], "again": [8, 9], "expect": [8, 10, 12], "order": [8, 10, 12], "directli": [8, 11], "ds_mesmer": 8, "whenev": 8, "_mesmer_segment": [8, 12], "cach": 8, "multiplexsegment": 8, "tar": 8, "gz": 8, "against": 8, "file_hash": 8, "hash": 8, "a1dfbce2594f927b9112f23a0a1739e0": 8, "deepcel": 8, "successfulli": 8, "No": 8, "configur": [8, 10], "save": 8, "compil": 8, "float": [8, 10, 11, 12], "stain": 8, "task": 8, "ds_stardist": 8, "_stardist_segment": [8, 12], "2d_versatile_fluo": 8, "stardist2d": 8, "network": 8, "weights_best": 8, "h5": 8, "json": 8, "prob_thresh": 8, "479071": 8, "nms_thresh": 8, "144": 8, "08": 8, "31it": 8, "tend": 8, "lot": 8, "under": [8, 11], "collid": 8, "stop": 8, "ds_stardist_grown": 8, "grown": [8, 11], "three": 8, "hyperparamet": 8, "help": 8, "macrophag": 8, "matter": 8, "preced": 8, "06": 8, "320": 8, "uint82": 8, "overlap": 8, "ds_cellpose_merg": 8, "merge_segment": [8, 11], "lymphocyt": 8, "_merged_segment": [8, 11], "0label_segment": 8, "55": [8, 9], "84": 8, "89": 8, "93": [8, 9], "94": 8, "96": 8, "102": 8, "103": 8, "104": 8, "105": 8, "106": 8, "107": 8, "108": 8, "109": 8, "110": 8, "112": 8, "113": [8, 9], "115": 8, "116": 8, "118": 8, "119": 8, "130": 8, "131": 8, "132": 8, "133": 8, "136": 8, "139": [8, 9], "140": 8, "141": 8, "142": 8, "143": 8, "145": [8, 9], "146": [8, 9], "151": 8, "152": 8, "153": 8, "154": 8, "155": 8, "156": 8, "157": 8, "158": 8, "160": 8, "161": 8, "162": 8, "164": 8, "165": 8, "167": 8, "169": 8, "170": 8, "171": 8, "173": 8, "174": 8, "175": 8, "176": 8, "177": 8, "178": 8, "179": 8, "180": 8, "182": 8, "183": 8, "184": 8, "185": 8, "186": 8, "187": 8, "190": 8, "191": 8, "192": 8, "194": 8, "196": 8, "197": 8, "198": 8, "199": 8, "201": 8, "203": 8, "204": 8, "206": 8, "208": [8, 9], "209": 8, "210": 8, "211": 8, "212": 8, "214": 8, "215": 8, "217": 8, "220": 8, "221": 8, "223": 8, "225": 8, "226": 8, "227": 8, "228": 8, "229": 8, "230": 8, "231": 8, "232": 8, "236": 8, "237": 8, "238": 8, "239": 8, "240": 8, "241": 8, "242": 8, "243": 8, "245": 8, "246": 8, "249": 8, "250": 8, "251": 8, "252": 8, "253": 8, "254": 8, "256": 8, "257": 8, "258": 8, "259": 8, "260": 8, "261": 8, "263": 8, "264": 8, "265": 8, "266": 8, "267": 8, "268": 8, "271": 8, "272": 8, "273": 8, "274": 8, "276": 8, "277": [8, 9], "278": 8, "279": 8, "282": 8, "283": [8, 9], "284": 8, "285": 8, "286": 8, "287": 8, "288": 8, "291": 8, "292": 8, "294": 8, "295": 8, "886f4c": 8, "04e": 8, "3prop": 8, "3x": 8, "301y": 8, "296featur": 8, "3arrai": 8, "296arrai": 8, "1b4400": 8, "eec3ff": 8, "03976395e": 8, "01177127e": 8, "04003425e": 8, "26775342e": 8, "05124330e": 8, "13856696e": 8, "10571235e": 8, "12722843e": 8, "14620124e": 8, "01776398e": 8, "16230389e": 8, "17880722e": 8, "18058482e": 8, "01311161e": 8, "19026624e": 8, "28613629e": 8, "20758269e": 8, "05454001e": 8, "20234309e": 8, "21452342e": 8, "26504545e": 8, "19021678e": 8, "28005426e": 8, "27537234e": 8, "27334663e": 8, "13492020e": 8, "28796612e": 8, "15875584e": 8, "29483128e": 8, "02832099e": 8, "00864773e": 8, "10269886e": 8, "05833333e": 8, "00033333e": 8, "05521469e": 8, "22499435e": 8, "09622517e": 8, "11684106e": 8, "12757364e": 8, "22200000e": 8, "27685165e": 8, "05537363e": 8, "27637826e": 8, "10934348e": 8, "27776289e": 8, "25349485e": 8, "28373222e": 8, "08769456e": 8, "28052941e": 8, "03161345e": 8, "28121739e": 8, "29705797e": 8, "28914216e": 8, "12124020e": 8, "28731452e": 8, "04151613e": 8, "29030841e": 8, "00780374e": 8, "29325301e": 8, "13526506e": 8, "29259551e": 8, "23957865e": 8, "29374242e": 8, "05472727e": 8, "29488554e": 8, "09443373e": 8, "29433544e": 8, "19741139e": 8, "29490265e": 8, "21288496e": 8, "29660000e": 8, "07444000e": 8, "29580769e": 8, "18414423e": 8, "29661429e": 8, "25181429e": 8, "29711111e": 8, "26706838e": 8, "29782500e": 8, "00297500e": 8, "darkr": 8, "far": 8, "perfect": 8, "pick": 8, "fine": 8, "tune": 8, "celltyp": [8, 11], "tweak": 8, "improv": 8, "0x7fd18a1534d0": 9, "abil": 9, "intuit": 9, "voehr": 9, "pymc_env": 9, "h5netcdf": 9, "togeth": 9, "familiar": 9, "bracket": 9, "473": 9, "647": 9, "923": 9, "703": 9, "812": 9, "536e": 9, "429e": 9, "617e": 9, "pass": [9, 10, 11, 12], "visualis": 9, "7143": 9, "5909": 9, "677": 9, "883": 9, "730": 9, "676": 9, "understand": 9, "ridd": 9, "belong": 9, "respect": [9, 10], "number": [9, 10, 11, 12], "5891": 9, "12444": 9, "12469": 9, "12473": 9, "12505": 9, "12522": 9, "9208": 9, "4512": 9, "817": 9, "c0": [9, 10], "333": 9, "371": 9, "7806": 9, "12531": 9, "12536": 9, "12540": 9, "12549": 9, "2297": 9, "4495": 9, "904": 9, "337": 9, "except": 9, "12391": 9, "c7": 9, "plotaccessor": 10, "xlim": 10, "ylim": 10, "linewidth": 10, "bound": [10, 11], "xstart": 10, "xstop": 10, "ymin": 10, "ymax": 10, "rectangular": 10, "text_kwarg": 10, "fontsiz": 10, "highlight_kwarg": 10, "fontweight": 10, "bold": 10, "bbox": 10, "format_str": 10, "keyword": [10, 11, 12], "xmin": 10, "xmax": 10, "string": [10, 11], "2f": 10, "downsampl": [10, 11], "background": 10, "surround": 10, "tma": 10, "awai": 10, "obj": [10, 11, 12], "dcbeff": 10, "800000": 10, "aaffc3": 10, "808000": 10, "000075": 10, "a9a9a9": 10, "black": 10, "denot": 10, "c1": 10, "c2": 10, "prior": 10, "usag": 10, "legend_segment": 10, "legend_kwarg": 10, "framealpha": 10, "meant": 10, "conjunct": 10, "legendf": 10, "colorbar": 10, "inclus": 10, "alpha_boundari": 10, "inner": 10, "override_color": 10, "transpar": 10, "outer": 10, "overrid": 10, "insid": 10, "outsid": 10, "blend": 10, "must": [10, 11], "zorder": 10, "At": 10, "point": 10, "z": 10, "greater": [10, 11], "color_schem": 10, "scatter_kwarg": 10, "deal": 10, "render_intens": 10, "show_channel_legend": 10, "show_label_legend": 10, "preprocessingaccessor": 11, "fast": 11, "add_channel": 11, "add_featur": 11, "feature_nam": 11, "feature_valu": 11, "add_label": 11, "add_labels_from_datafram": 11, "random": [11, 12], "amend": 11, "dimension": 11, "field": 11, "add_obs_from_datafram": 11, "return_xarrai": 11, "regionprops_t": 11, "add_properti": 11, "separ": 11, "arcsinh_median_intens": 11, "callabl": [11, 12], "add_quantification_from_datafram": 11, "reindex": 11, "keep_label": 11, "locat": 11, "mask_growth": 11, "relabel": 11, "n": 11, "initi": [11, 12], "kwarg": [11, 12], "overwritten": 11, "th": 11, "kept": 11, "ones": 11, "col": 11, "segmentation_kei": [11, 12], "boolean": 11, "satisfi": 11, "condit": 11, "remain": 11, "70px": 11, "get_bbox": 11, "x_slice": 11, "y_slice": 11, "get_channel": 11, "retriev": 11, "get_disconnected_cel": 11, "disconnect": 11, "handle_disconnect": 11, "handl": 11, "fill": 11, "mask_kei": 11, "multi": 11, "1d": 11, "precomput": 11, "3d": 11, "from_kei": 11, "key_base_segment": 11, "biggest": 11, "smaller": 11, "replac": 11, "both": 11, "cofactor": 11, "min_percentil": 11, "max_percentil": 11, "zscore": 11, "minmax": 11, "double_zscor": 11, "minimum": 11, "maximum": [11, 12], "unknown": 11, "util": 12, "third": 12, "parti": 12, "toolaccessor": 12, "extern": 12, "seed": 12, "learning_r": 12, "batch_siz": 12, "n_init": 12, "n_init_epoch": 12, "max_epoch": 12, "cell_id_col": 12, "cell_id": 12, "cell_type_col": 12, "includ": 12, "state": 12, "certainti": 12, "learn": 12, "batch": 12, "num_iter": 12, "cellprob_threshold": 12, "flow_threshold": 12, "gpu": 12, "model_typ": 12, "postprocess_func": 12, "depend": 12, "attempt": 12, "cellpose_denois": 12, "_cellpose_denois": 12, "_cellpose_denoise_segment": 12, "restore_typ": 12, "denoise_cyto3": 12, "obs_kei": 12, "spatial_data_object": 12, "assum": 12, "n_tile": 12, "predict_big": 12, "tile": 12, "split": 12, "flag": 12, "nuclear_channel": 12, "predict_instances_big": 12}, "objects": {"spatialproteomics.la": [[1, 0, 0, "-", "label"]], "spatialproteomics.la.label": [[1, 1, 1, "", "LabelAccessor"]], "spatialproteomics.la.label.LabelAccessor": [[1, 2, 1, "", "add_label_property"], [1, 2, 1, "", "add_label_type"], [1, 2, 1, "", "deselect"], [1, 2, 1, "", "predict_cell_types_argmax"], [1, 2, 1, "", "remove_label_type"], [1, 2, 1, "", "set_label_colors"], [1, 2, 1, "", "set_label_name"], [1, 2, 1, "", "threshold_labels"]], "spatialproteomics.pl": [[10, 0, 0, "-", "plot"]], "spatialproteomics.pl.plot": [[10, 1, 1, "", "PlotAccessor"]], "spatialproteomics.pl.plot.PlotAccessor": [[10, 2, 1, "", "add_box"], [10, 2, 1, "", "annotate"], [10, 2, 1, "", "autocrop"], [10, 2, 1, "", "colorize"], [10, 2, 1, "", "imshow"], [10, 2, 1, "", "render_labels"], [10, 2, 1, "", "render_segmentation"], [10, 2, 1, "", "scatter"], [10, 2, 1, "", "scatter_labels"], [10, 2, 1, "", "show"]], "spatialproteomics.pp": [[11, 0, 0, "-", "preprocessing"]], "spatialproteomics.pp.preprocessing": [[11, 1, 1, "", "PreprocessingAccessor"]], "spatialproteomics.pp.preprocessing.PreprocessingAccessor": [[11, 2, 1, "", "add_channel"], [11, 2, 1, "", "add_feature"], [11, 2, 1, "", "add_labels"], [11, 2, 1, "", "add_labels_from_dataframe"], [11, 2, 1, "", "add_layer"], [11, 2, 1, "", "add_obs_from_dataframe"], [11, 2, 1, "", "add_observations"], [11, 2, 1, "", "add_properties"], [11, 2, 1, "", "add_quantification"], [11, 2, 1, "", "add_quantification_from_dataframe"], [11, 2, 1, "", "add_segmentation"], [11, 2, 1, "", "apply"], [11, 2, 1, "", "downsample"], [11, 2, 1, "", "drop_layers"], [11, 2, 1, "", "filter_by_obs"], [11, 2, 1, "", "get_bbox"], [11, 2, 1, "", "get_channels"], [11, 2, 1, "", "get_disconnected_cell"], [11, 2, 1, "", "get_layer_as_df"], [11, 2, 1, "", "grow_cells"], [11, 2, 1, "", "mask_cells"], [11, 2, 1, "", "mask_region"], [11, 2, 1, "", "merge_segmentation"], [11, 2, 1, "", "normalize"], [11, 2, 1, "", "rescale"], [11, 2, 1, "", "threshold"], [11, 2, 1, "", "transform_expression_matrix"]], "spatialproteomics.tl": [[12, 0, 0, "-", "tool"]], "spatialproteomics.tl.tool": [[12, 1, 1, "", "ToolAccessor"]], "spatialproteomics.tl.tool.ToolAccessor": [[12, 2, 1, "", "astir"], [12, 2, 1, "", "cellpose"], [12, 2, 1, "", "cellpose_denoise"], [12, 2, 1, "", "convert_to_anndata"], [12, 2, 1, "", "convert_to_spatialdata"], [12, 2, 1, "", "mesmer"], [12, 2, 1, "", "stardist"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"]}, "titleterms": {"welcom": 0, "document": 0, "spatialproteom": [0, 3, 4], "content": 0, "tutori": 0, "indic": 0, "tabl": [0, 6], "The": [1, 10, 11, 12], "label": [1, 7, 9], "la": 1, "accessor": [1, 10, 11, 12], "cell": [2, 3, 4, 7, 8], "type": [2, 4], "predict": [2, 4], "imag": [2, 3, 4, 5], "process": [2, 4, 5], "argmax": 2, "astir": 2, "marker": 2, "binar": 2, "custom": 3, "crop": 3, "load": 3, "from": 3, "zarr": [3, 6], "file": 3, "draw": 3, "healthi": 3, "region": [3, 7], "us": 3, "tissuetag": 3, "put": 3, "mask": [3, 7], "object": 3, "set": 3, "everi": 3, "pixel": 3, "intens": [3, 7], "0": 3, "remov": 3, "exampl": 4, "workflow": 4, "1": 4, "get": 4, "start": 4, "2": 4, "3": 4, "segment": [4, 7, 8], "4": 4, "quantifi": 4, "protein": 4, "express": 4, "per": 4, "5": 4, "6": 4, "plot": [4, 7, 10], "interopar": 6, "import": 6, "data": [6, 9], "export": 6, "csv": 6, "anndata": 6, "spatialdata": 6, "channel": [7, 8, 9], "render": 7, "ob": 7, "annot": 7, "expert": 7, "whole": 8, "cellpos": 8, "mesmer": 8, "nuclear": 8, "stardist": 8, "multipl": 8, "subselect": 9, "slice": 9, "spatial": 9, "coordin": 9, "pl": 10, "preprocess": 11, "pp": 11, "tool": 12, "tl": 12}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "nbsphinx": 4, "sphinx": 56}})