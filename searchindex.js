Search.setIndex({"docnames": ["index", "label", "neighborhood", "notebooks/ArtifactRemoval", "notebooks/CellTypePrediction", "notebooks/ExampleWorkflow", "notebooks/ImageProcessing", "notebooks/Interactivity", "notebooks/Interoperability", "notebooks/Neighborhoods", "notebooks/Plotting", "notebooks/Segmentation", "notebooks/Slicing", "plot", "preprocessing", "tool"], "filenames": ["index.rst", "label.rst", "neighborhood.rst", "notebooks/ArtifactRemoval.ipynb", "notebooks/CellTypePrediction.ipynb", "notebooks/ExampleWorkflow.ipynb", "notebooks/ImageProcessing.ipynb", "notebooks/Interactivity.ipynb", "notebooks/Interoperability.ipynb", "notebooks/Neighborhoods.ipynb", "notebooks/Plotting.ipynb", "notebooks/Segmentation.ipynb", "notebooks/Slicing.ipynb", "plot.rst", "preprocessing.rst", "tool.rst"], "titles": ["Welcome to the documentation of spatialproteomics!", "The label (<code class=\"code docutils literal notranslate\"><span class=\"pre\">la</span></code>) accessor", "The neighborhood (<code class=\"code docutils literal notranslate\"><span class=\"pre\">nh</span></code>) accessor", "Interactive Removal of Artifacts", "Cell Type Prediction", "Example Workflow with spatialproteomics", "Image Processing", "Interactivity", "Interoperability", "Neighborhood Analysis", "Plotting", "Segmentation", "Subselecting Data", "The plot (<code class=\"code docutils literal notranslate\"><span class=\"pre\">pl</span></code>) accessor", "The preprocessing (<code class=\"code docutils literal notranslate\"><span class=\"pre\">pp</span></code>) accessor", "The tool (<code class=\"code docutils literal notranslate\"><span class=\"pre\">tl</span></code>) accessor"], "terms": {"The": [0, 3, 4, 5, 6, 8, 9, 10, 11, 12], "preprocess": [0, 4, 5, 6], "pp": [0, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13], "accessor": [0, 10, 12], "label": [0, 2, 3, 4, 5, 6, 7, 8, 9, 11, 13, 14], "la": [0, 4, 5, 10, 11, 12, 13], "neighborhood": [0, 13, 14], "nh": [0, 9, 12], "plot": [0, 3, 4, 6, 8, 9, 11, 14], "pl": [0, 3, 4, 5, 6, 9, 10, 11], "tool": [0, 5, 7], "tl": [0, 4, 5, 7, 8, 10, 11, 13], "exampl": [0, 3, 4, 6, 7, 8, 9, 10, 11, 13, 14, 15], "workflow": [0, 8, 9], "1": [0, 3, 4, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "get": [0, 3, 4, 6, 9, 10, 11, 12, 13, 14], "start": [0, 3, 9, 10, 11, 12, 14], "2": [0, 3, 4, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "imag": [0, 1, 2, 7, 8, 10, 11, 12, 13, 14, 15], "process": [0, 1, 2, 11, 14], "3": [0, 3, 4, 6, 7, 8, 9, 10, 11, 12, 13, 15], "cell": [0, 1, 2, 6, 7, 8, 9, 12, 13, 14, 15], "segment": [0, 1, 3, 4, 7, 8, 9, 13, 14, 15], "4": [0, 3, 4, 6, 7, 8, 9, 10, 11, 12, 15], "quantifi": [0, 14], "protein": 0, "express": [0, 4, 8, 10, 14, 15], "per": 0, "5": [0, 3, 4, 6, 7, 8, 9, 10, 11, 12, 14, 15], "type": [0, 1, 2, 7, 8, 9, 10, 11, 12, 13, 14, 15], "predict": [0, 1, 2, 10, 11, 15], "6": [0, 3, 4, 6, 7, 8, 9, 10, 11, 12], "subselect": [0, 11], "data": [0, 1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 13, 14, 15], "slice": [0, 1, 2, 10, 14], "channel": [0, 1, 3, 4, 5, 6, 7, 8, 9, 13, 14, 15], "spatial": [0, 8, 13], "coordin": [0, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14], "whole": 0, "cellpos": [0, 5, 10, 13, 14, 15], "mesmer": [0, 15], "nuclear": [0, 5, 15], "stardist": [0, 15], "multipl": [0, 5, 6, 9, 10, 12, 13, 14], "interact": 0, "remov": [0, 1, 2, 4, 5, 8, 9, 10, 11, 14], "artifact": [0, 5], "load": [0, 5, 6, 7, 8, 10, 11, 12], "from": [0, 1, 2, 4, 5, 6, 7, 8, 9, 11, 13, 14, 15], "zarr": [0, 4, 6, 7, 9, 10, 11, 12], "file": [0, 5, 8, 10, 11], "draw": 0, "healthi": 0, "region": [0, 8, 9, 14], "us": [0, 1, 2, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "tissuetag": 0, "put": [0, 8, 9], "mask": [0, 1, 5, 11, 13, 14, 15], "object": [0, 1, 2, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "set": [0, 1, 2, 4, 5, 6, 7, 9, 10, 11, 14], "everi": [0, 5, 6, 14], "pixel": [0, 2, 5, 6, 11, 13, 14, 15], "intens": [0, 1, 4, 5, 6, 13, 14, 15], "0": [0, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "render": [0, 13], "ob": [0, 4, 8, 11, 13, 14, 15], "annot": [0, 1, 3, 4, 13, 14], "expert": 0, "argmax": [0, 1, 5, 6], "astir": [0, 13, 15], "marker": [0, 1, 3, 5, 6, 10, 11, 13, 15], "binar": [0, 1, 10], "analysi": [0, 3, 5, 8], "imagecontain": 0, "custom": [0, 4, 6, 10, 13, 14], "comparison": 0, "differ": [0, 4, 6, 10, 11], "method": [0, 1, 2, 3, 4, 5, 6, 10, 11, 13, 14, 15], "interoper": [0, 7], "import": [0, 3, 4, 5, 6, 7, 9, 10, 11, 12], "export": [0, 7], "csv": 0, "anndata": [0, 7, 15], "spatialdata": [0, 1, 7, 15], "index": [0, 3, 5, 6, 7, 9, 11, 12, 14], "modul": [0, 5, 6, 9, 10, 11], "search": 0, "page": 0, "provid": [1, 2, 3, 5, 6, 9, 10, 11, 13, 14, 15], "sever": [1, 2, 5, 13, 14], "function": [1, 2, 4, 5, 6, 7, 9, 10, 11, 13, 14, 15], "associ": [1, 2, 4, 9], "gate": 1, "class": [1, 2, 7, 8, 13, 14, 15], "spatialproteom": [1, 2, 4, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "labelaccessor": 1, "xarray_obj": [1, 2, 13, 14, 15], "add": [1, 2, 3, 9, 11, 13, 14, 15], "phenotyp": 1, "add_label_properti": 1, "arrai": [1, 2, 3, 5, 6, 7, 8, 9, 11, 14], "union": [1, 2, 13, 14], "ndarrai": [1, 2, 8, 14], "list": [1, 2, 4, 5, 8, 12, 13, 14, 15], "prop": [1, 2, 3, 6, 7, 8, 11], "str": [1, 2, 13, 14, 15], "properti": [1, 2, 14], "each": [1, 2, 5, 9, 10, 11, 13, 14, 15], "uniqu": [1, 2, 13], "thi": [1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15], "specifi": [1, 2, 10, 13, 14, 15], "valu": [1, 2, 3, 4, 5, 6, 9, 10, 11, 13, 14, 15], "ar": [1, 2, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15], "taken": 1, "argument": [1, 9, 10, 11, 13, 14, 15], "assign": [1, 2, 3, 4, 5, 10, 14, 15], "correspond": [1, 2, 6, 10, 14, 15], "paramet": [1, 2, 6, 11, 13, 14, 15], "numpi": [1, 3, 6, 7, 9, 14], "an": [1, 2, 3, 5, 6, 8, 9, 10, 11, 13, 14, 15], "contain": [1, 2, 5, 9, 10, 11, 13, 14, 15], "name": [1, 2, 3, 5, 7, 9, 11, 12, 14, 15], "ad": [1, 2, 4, 5, 9, 10, 11, 13, 14, 15], "return": [1, 2, 5, 6, 9, 13, 14, 15], "updat": [1, 2, 13, 14], "ani": [1, 2, 5, 6, 10, 11], "note": [1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15], "ensur": [1, 5, 7], "convert": [1, 2, 11, 14, 15], "It": [1, 2, 5, 8, 10, 11, 14], "creat": [1, 3, 4, 5, 8, 9, 10, 13, 14, 15], "dataarrai": [1, 2, 7, 14, 15], "da": 1, "given": [1, 4, 14], "coord": [1, 8], "merg": [1, 2, 11, 13, 14], "If": [1, 2, 4, 5, 8, 9, 10, 11, 13, 14, 15], "alreadi": [1, 2, 8, 11, 14, 15], "exist": [1, 2, 4, 6, 7, 8, 11, 14], "new": [1, 2, 5, 9, 13, 14], "add_label_typ": 1, "color": [1, 2, 4, 5, 6, 9, 10, 11, 13], "w": [1, 11, 13], "dataset": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "identifi": [1, 2], "categor": [1, 10, 13], "option": [1, 2, 6, 8, 10, 12, 13, 14, 15], "code": [1, 5, 8, 9, 10, 11], "repres": [1, 13, 14], "visual": [1, 4, 5, 10], "default": [1, 2, 3, 5, 10, 11, 13, 14, 15], "white": [1, 10, 13], "newli": 1, "xr": [1, 2, 3, 4, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "rais": [1, 2, 13, 14, 15], "valueerror": [1, 14, 15], "observ": [1, 4, 5, 6, 10, 11, 13, 14, 15], "tabl": [1, 3, 7, 10, 13, 14], "found": [1, 4, 5, 8, 9, 10, 11, 13, 14, 15], "check": [1, 5, 9, 10, 11], "doe": [1, 2, 6, 8, 9, 11, 14, 15], "add_label": 1, "dict": [1, 9, 13, 14, 15], "none": [1, 2, 3, 5, 8, 13, 14, 15], "map": [1, 5, 13, 15], "A": [1, 2, 3, 13, 14, 15], "dictionari": [1, 4, 5, 9, 13, 15], "kei": [1, 2, 3, 4, 8, 12, 13, 14, 15], "input": [1, 5, 9, 14], "panda": [1, 4, 5, 8, 9, 11, 12, 14], "datafram": [1, 2, 9, 14, 15], "add_labels_from_datafram": 1, "df": [1, 2, 5, 8, 9, 10, 14], "cell_col": 1, "label_col": 1, "pd": [1, 2, 4, 5, 7, 8, 9, 11, 12, 14], "inform": [1, 2, 5, 9], "appli": [1, 4, 5, 6, 9, 13, 14, 15], "column": [1, 2, 8, 10, 14, 15], "random": [1, 2, 15], "add_properti": [1, 2], "_label": [1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "return_xarrai": [1, 14], "bool": [1, 2, 13, 14, 15], "fals": [1, 4, 5, 9, 10, 11, 13, 14, 15], "In": [1, 3, 5, 6, 8, 9, 10, 11], "order": [1, 11, 13, 15], "layer": [1, 2, 3, 4, 5, 8, 9, 13, 14, 15], "np": [1, 2, 3, 6, 7, 8, 9, 14], "featur": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14], "true": [1, 2, 3, 4, 5, 9, 10, 11, 13, 14, 15], "xarrai": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "instead": [1, 3, 5, 9, 10, 11, 13, 14], "them": [1, 2, 4, 9, 10, 11, 14], "separ": [1, 2, 14], "deselect": [1, 2, 12], "indic": [1, 2, 3, 14, 15], "specif": [1, 2, 5, 9, 10, 12, 13], "effect": [1, 2], "select": [1, 2, 9, 10, 11, 12, 13, 14], "can": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "perform": [1, 2, 5, 6, 7, 9, 10, 11, 14, 15], "tupl": [1, 2, 14], "individu": [1, 2, 13], "integ": [1, 2, 13], "int": [1, 2, 13, 14, 15], "which": [1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 13, 14], "predict_cell_subtyp": 1, "subtype_dict": 1, "overwrite_existing_label": [1, 4], "subtyp": [1, 4], "base": [1, 2, 5, 6, 9, 14], "overwritten": [1, 14], "more": [1, 4, 5, 6, 9, 10, 11, 13], "granular": 1, "predict_cell_types_argmax": [1, 4, 5, 13], "marker_dict": [1, 5, 15], "_intens": [1, 4, 5, 10, 14, 15], "classif": 1, "quantif": [1, 4, 10, 14], "whether": [1, 2, 13, 14, 15], "overwrit": [1, 14], "store": [1, 2, 5, 8, 9, 13, 14, 15], "id": [1, 2, 8, 9, 13, 15], "output": 1, "spatial_data": 1, "assertionerror": [1, 2, 13, 14, 15], "present": [1, 2, 13, 15], "remove_label_typ": 1, "cell_typ": [1, 4, 15], "s": [1, 5, 6, 8, 9, 10, 11, 13, 14], "unlabel": 1, "categori": [1, 3], "among": 1, "first": [1, 3, 4, 5, 9, 10, 13, 14], "set_label_color": [1, 4, 5, 10, 11], "either": [1, 2, 6, 10, 11, 13, 14], "whose": [1, 2, 4], "its": [1, 2, 5, 14], "intern": [1, 2, 14], "set_label_nam": 1, "threshold_label": [1, 4, 10], "threshold_dict": [1, 4], "layer_kei": [1, 3, 4, 10, 13, 14], "binaris": 1, "threshold": [1, 4, 5, 6, 11, 14, 15], "onli": [1, 3, 4, 5, 8, 10, 11, 12, 13, 14], "binari": [1, 3, 11], "_percentage_positive_intens": [1, 8], "comput": [1, 2, 6, 9], "compar": 1, "cellular": [2, 9], "neighborhoodaccessor": 2, "add_neighborhoods_from_datafram": [2, 9], "neighborhood_col": 2, "param": [2, 13], "number": [2, 9, 12, 13, 14, 15], "match": [2, 4, 11, 14], "neg": [2, 3, 4, 14], "length": [2, 3, 5, 7, 9, 11], "_neighborhood": [2, 9], "compute_neighborhoods_delaunai": [2, 9], "include_cent": [2, 9], "key_ad": [2, 4, 11, 14, 15], "delaunai": [2, 9], "triangul": [2, 9], "neighbor": [2, 9], "frequenc": [2, 9], "within": [2, 5, 9, 10, 13], "k": [2, 6, 9, 11], "includ": [2, 9, 15], "center": 2, "under": [2, 11, 14], "result": [2, 3, 5, 8, 9, 10, 11, 15], "origin": [2, 3, 9, 13, 14, 15], "compute_neighborhoods_knn": [2, 9], "10": [2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13], "nearest": [2, 9], "consid": [2, 4], "compute_neighborhoods_radiu": [2, 9], "radiu": [2, 9], "100": [2, 4, 5, 6, 11], "defin": [2, 4, 9], "around": [2, 9, 10, 13], "all": [2, 3, 4, 5, 9, 10, 11, 12, 13, 14, 15], "examin": 2, "itself": [2, 9], "set_neighborhood_color": [2, 9], "set_neighborhood_nam": [2, 9], "sometim": [3, 5, 10, 11], "happen": 3, "part": [3, 9], "tissu": [3, 9, 10, 13], "usabl": 3, "due": 3, "poor": [3, 5], "qualiti": 3, "certain": [3, 6, 9, 11, 13], "case": [3, 5, 8, 9, 10, 11], "make": [3, 5, 10, 11, 12], "sens": 3, "out": [3, 5, 6, 8], "problemat": 3, "wai": [3, 4, 5, 6, 8, 9, 14], "still": 3, "downstream": [3, 5, 8], "influenc": 3, "allow": [3, 5, 8, 10, 11, 12, 13], "user": [3, 5, 10, 11], "upload": 3, "suitabl": 3, "further": [3, 6, 10], "below": [3, 4, 5, 6, 9, 10, 11, 14], "show": [3, 4, 5, 6, 8, 9, 10, 11, 13], "how": [3, 4, 5, 8, 9, 10, 11], "one": [3, 4, 5, 6, 11, 12], "could": [3, 4, 5, 9, 10, 11], "obtain": [3, 9, 10], "run": [3, 5, 7, 8, 9, 11], "jupyt": [3, 5, 11], "notebook": [3, 4, 5, 6, 8, 9, 10], "lab": 3, "ha": [3, 5, 7, 9, 10, 14, 15], "implement": [3, 5], "jupyterhub": 3, "moment": [3, 13], "33": [3, 11], "sp": [3, 4, 5, 7, 8, 9], "matplotlib": [3, 4, 5, 6, 9, 10, 11, 13], "pyplot": [3, 4, 5, 6, 9, 10, 11], "plt": [3, 4, 5, 6, 9, 10, 11], "pil": 3, "34": [3, 5, 6, 7, 8, 10, 11], "ds": [3, 4, 6, 7, 8, 10, 11, 12, 13], "load_dataset": [3, 4, 6, 7, 8, 10, 11, 12], "4_b4": 3, "engin": [3, 4, 6, 7, 8, 9, 10, 11, 12], "quick": [3, 4, 10], "some": [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14], "figur": [3, 6, 10], "figsiz": [3, 4, 5, 6, 9, 10, 11], "pax5": [3, 4, 6, 7, 9, 10, 13, 15], "cd3": [3, 4, 6, 7, 8, 9, 10, 12, 13, 15], "podoplanin": [3, 4, 7, 9], "autocrop": [3, 4, 9, 10, 13], "mbender": 3, "mambaforg": 3, "env": [3, 5, 8, 10, 11], "interactive_cropping_env": 3, "lib": [3, 5, 6, 7, 8, 10, 11], "python3": [3, 5, 6, 7, 8, 10, 11], "site": [3, 5, 6, 7, 8, 10, 11], "packag": [3, 5, 6, 7, 8, 10, 11, 15], "backend": [3, 6, 7, 8], "plugin": [3, 6, 7, 8], "py": [3, 5, 6, 7, 8, 10, 11], "159": [3, 6, 7, 8], "runtimewarn": [3, 6, 7, 8], "39": [3, 4, 5, 6, 7, 8, 10, 11], "scipi": [3, 4, 5, 6, 7, 8], "fail": [3, 6, 7, 8, 11], "while": [3, 5, 6, 7, 8, 10, 14], "guess": [3, 6, 7, 8], "warn": [3, 6, 7, 8, 14], "f": [3, 6, 7, 8, 9], "r": [3, 6, 7, 8], "lt": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "gt": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "dimens": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "8395": 3, "celltype_level": [3, 9, 12], "y": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "1811": 3, "x": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "1721": 3, "9": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13], "rgba": 3, "int64": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "8391": 3, "8392": 3, "8393": 3, "8394": 3, "u8": [3, 9, 12], "x27": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "labels_1": [3, 9, 12], "labels_2": [3, 9, 12], "u11": [3, 4, 6, 7, 8, 9, 10, 11, 12], "u10": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "bcl": [3, 7, 8, 9, 12], "ccr7": [3, 9], "ki": [3, 6, 7, 8, 9, 10, 12], "67": [3, 6, 7, 8, 9, 10, 12], "7": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "8": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 14], "u6": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "_color": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "_name": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "70": [3, 8, 11, 14], "71": [3, 4, 11, 12], "72": 3, "73": [3, 7, 11], "74": [3, 11], "1786": 3, "1787": 3, "1788": 3, "1789": 3, "1790": 3, "120": 3, "121": 3, "122": 3, "123": 3, "124": 3, "1927": 3, "1928": 3, "1929": 3, "1930": 3, "u1": 3, "g": [3, 4, 6, 9, 10, 11, 13, 14, 15], "b": [3, 4, 6, 7, 8, 9, 10, 12, 15], "variabl": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13], "_celltype_predict": [3, 9, 12], "_imag": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "uint8": [3, 4, 6, 7, 8, 9, 10, 11, 12, 15], "_ob": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "float64": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "933": 3, "_properti": [3, 6, 7, 11], "e6194b": [3, 4, 12, 13], "t": [3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 15], "_segment": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], "_plot": 3, "02338": 3, "02922": 3, "01153": 3, "0xarrai": [3, 5, 11], "datasetdimens": [3, 5, 7, 9, 11], "8395celltype_level": 3, "3channel": [3, 9], "3y": [3, 11], "1811x": 3, "1721featur": 3, "9label": 3, "9prop": 3, "2rgba": 3, "4coordin": 3, "int641": [3, 5, 7, 9, 11], "8395arrai": 3, "dtype": [3, 5, 6, 7, 8, 9, 11], "cd8": [3, 4, 5, 7, 8, 9, 10, 12], "lag3": [3, 7, 9], "tim3": [3, 7, 9, 12], "centroid": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 14, 15], "9arrai": [3, 5, 9], "int6470": 3, "1790arrai": 3, "int64120": 3, "1930arrai": 3, "uint81": 3, "0arrai": [3, 5, 7, 9, 11], "float641": [3, 5, 7, 9, 11], "872e": 3, "03": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "00000000e": [3, 7, 11], "00": [3, 5, 7, 9, 11], "64159722e": 3, "02": [3, 5, 6, 7, 8, 9, 11], "96729167e": 3, "69883041e": 3, "29573099e": 3, "69355769e": 3, "01019231e": 3, "87248333e": 3, "13303333e": 3, "87208046e": 3, "79931034e": 3, "87214516e": 3, "33123656e": 3, "3cb44b": [3, 4, 13], "4363d8": [3, 4, 13], "dendrit": [3, 4, 7, 9, 11, 12], "911eb4": [3, 4, 13], "macro": [3, 4, 7, 9], "ffe119": [3, 4, 13], "myeloid": [3, 4, 9, 15], "bfef45": [3, 13], "stroma": [3, 4, 7, 9, 12], "cd31": [3, 4, 7, 8, 9, 10, 12], "42d4f4": [3, 13], "cd34": [3, 4, 7, 9, 10, 12], "f032e6": [3, 13], "cd90": [3, 4, 7, 9, 12], "f58231": [3, 4, 13], "pdpn": [3, 4, 7, 9, 12], "int640": [3, 5, 7, 9, 11], "float640": [3, 5, 9], "0image_color": 3, "02337562": 3, "02921953": 3, "01614764": 3, "0141484": 3, "00153787": 3, "00461361": 3, "00922722": 3, "02768166": 3, "01153403": 3, "01937716": 3, "05813149": 3, "02422145": 3, "cellspandasindexpandasindex": [3, 5, 7, 9, 11], "8386": 3, "8387": 3, "8388": 3, "8389": 3, "8390": 3, "celltype_levelspandasindexpandasindex": [3, 9], "channelspandasindexpandasindex": [3, 5, 7, 9, 11], "featurespandasindexpandasindex": [3, 5, 7, 9, 11], "labelspandasindexpandasindex": [3, 5, 7, 9, 11], "propspandasindexpandasindex": [3, 7, 11], "xpandasindexpandasindex": [3, 5, 7, 9, 11], "75": [3, 11], "76": 3, "77": [3, 7, 11], "78": [3, 5], "79": [3, 8], "1781": 3, "1782": 3, "1783": 3, "1784": 3, "1785": 3, "ypandasindexpandasindex": [3, 5, 7, 9, 11], "125": [3, 5], "126": 3, "127": 3, "128": 3, "129": [3, 5], "1921": 3, "1922": 3, "1923": 3, "1924": 3, "1925": 3, "1926": 3, "rgbapandasindexpandasindex": 3, "attribut": [3, 5, 7, 9, 11], "35": [3, 5, 11, 13], "we": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "need": [3, 5, 8, 11, 14], "our": [3, 4, 5, 6, 9, 10, 11, 12], "here": [3, 4, 5, 6, 9, 10, 11], "extract": [3, 11, 15], "red": [3, 4, 5, 6, 9, 10, 13], "green": [3, 4, 5, 9, 13], "keep": [3, 4, 5, 11, 14], "blue": [3, 4, 5, 9, 10], "alpha": [3, 9, 10, 13], "everywher": 3, "podoplanin_img": 3, "stack": [3, 13], "rgba_imag": 3, "zeros_lik": 3, "ones_lik": 3, "255": [3, 6], "axi": [3, 9, 13], "imshow": [3, 9, 10, 13], "axesimag": 3, "0x16a049390": 3, "36": [3, 10, 11], "next": [3, 4, 5, 9, 11], "up": [3, 5, 11], "ultim": 3, "becom": [3, 13], "tell": [3, 5, 10, 11], "where": [3, 5, 6, 10, 11, 14], "annodict": 3, "yellow": [3, 5, 9], "zero": [3, 6], "shape": [3, 5, 8, 10, 14], "37": [3, 5, 11], "setup": 3, "panel": 3, "pn": 3, "socket": 3, "os": [3, 8], "tissue_tag": 3, "tt": 3, "environ": 3, "bokeh_allow_ws_origin": 3, "host": [3, 11], "8888": 3, "38": [3, 10], "accord": 3, "abov": [3, 6, 9, 11], "render_dict": 3, "anno_dict": 3, "use_datashad": 3, "io": [3, 5], "show_serv": 3, "notebook_url": 3, "gethostnam": 3, "bokeh": 3, "server": 3, "version": [3, 5, 10, 11], "tornado": 3, "authent": 3, "hook": 3, "NOT": 3, "enabl": [3, 10, 11, 14, 15], "0x16a01c0a0": 3, "200": [3, 5], "autoload": 3, "js": 3, "element": [3, 7, 8, 13], "f1ca8cc2": 3, "1758": 3, "4c3d": 3, "a83c": 3, "757b15543c0d": 3, "amp": 3, "absolut": [3, 6, 14], "url": 3, "http": [3, 5, 10, 11], "mac": 3, "huber33": 3, "local": [3, 6], "53395": 3, "resourc": 3, "189": 3, "82m": 3, "info": [3, 7, 8], "access": 3, "static": 3, "min": 3, "v": [3, 8], "0a5da0be1c2385c8fbc778b6fe92af35da98e7b160ed40850e1b234b02df34a055ca50d37f82f056d346f1a6812c836eecbfb99371cfc264da60861011003592": 3, "30m": 3, "30dd48a6c21439042b22c0586013c023610fdaba3c28ecd2549991ee689caaf69984c17f610f0259a9e7b9a0cec40dd018f52d36b47a6bd65e10d9885d3a861": 3, "60m": 3, "extens": 3, "6c2906ba8ee98ee2fe96712bd552abc490c7d847b686180f7d054bab534e4685": 3, "84m": 3, "gl": 3, "2bba96f5a73c631f21cb84fc6eb04f860e9b43e809ffaf3e7c7a60109b6c6c42a9b83a3d4bdadb0cb023bd48069e8d5cb2ee624da5fa4d5839469ac6818a41af": 3, "07m": 3, "widget": 3, "bf4eea8535eba9536cc13c5656d74f40bbf1448e73e48ddf7eaddff850f7d0093bc141ef1da5e7579585c338db8db7bb4b306cbcde009d4dbe9af2e7c2d609fb": 3, "25m": 3, "101": [3, 12], "ws": 3, "31m": 3, "websocket": 3, "connect": [3, 9], "open": [3, 5, 9, 10, 11], "serverconnect": 3, "update_annot": 3, "imarrai": 3, "40": [3, 5, 10, 11, 13], "invert": 3, "so": [3, 5, 11, 13, 14], "should": [3, 5, 6, 10, 11, 14], "everyth": 3, "els": [3, 15], "41": [3, 5, 7, 10], "_mask": [3, 14], "add_lay": [3, 14], "42": [3, 5, 10, 11, 15], "render_segment": [3, 4, 5, 9, 10, 11, 13], "sinc": [3, 5, 9, 11], "structur": [3, 4, 9], "conceptu": 3, "similar": [3, 10, 13], "_": [3, 4, 5, 6, 9, 10, 11], "43": [3, 5, 8, 10], "ds_masked_intens": 3, "mask_region": [3, 14], "you": [3, 4, 5, 6, 8, 9, 10, 11, 13, 14], "see": [3, 5, 9, 10, 11, 12, 14], "howev": [3, 6, 9, 10, 11], "top": [3, 9], "have": [3, 4, 5, 6, 8, 9, 10, 11, 13, 14], "those": [3, 9, 10, 14], "44": [3, 5, 8, 10, 11], "most": [3, 4], "time": [3, 5, 10, 11, 12], "what": [3, 4, 5, 9, 10, 11], "want": [3, 4, 5, 8, 9, 10, 11, 14], "do": [3, 5, 8, 9, 10, 11, 12, 14], "were": [3, 9], "area": [3, 5, 6, 10, 11, 14], "stick": 3, "45": [3, 5, 10], "ds_masked_cel": 3, "mask_cel": [3, 14], "cours": [3, 6, 9], "also": [3, 4, 5, 6, 8, 9, 10, 11, 12, 14, 15], "combin": [3, 6, 8, 10], "two": [3, 5, 10, 11, 14, 15], "46": [3, 8, 10], "There": [4, 5, 9, 11], "e": [4, 6, 9, 10, 11, 13, 14, 15], "follow": [4, 5, 6, 11], "demonstr": [4, 6, 9], "common": 4, "reload_ext": [4, 6, 7, 8, 9, 10, 11, 12], "autoreload": [4, 5, 6, 7, 8, 9, 10, 11, 12], "signal": [4, 5, 6], "medfilt2d": [4, 5, 6], "bnhl_166_4_i2_lk_2": [4, 10, 12], "percentil": [4, 5, 14], "median": [4, 5, 6], "filter": [4, 5, 6, 14], "cd11b": [4, 7, 9, 15], "cd11c": [4, 7, 9, 10, 11], "cd15": [4, 7, 9], "cd68": [4, 7, 8, 9, 11], "cd56": [4, 7, 9], "cd4": [4, 5, 7, 9, 10, 12], "quantil": [4, 6, 14], "95": [4, 6], "ffd8b1": [4, 13], "fffac8": [4, 13], "469990": [4, 13], "fabed4": [4, 13], "9a6324": [4, 13], "channels_celltyp": 4, "colors_celltyp": 4, "recomput": 4, "ds_process": 4, "kernel_s": [4, 5, 6], "add_quantif": [4, 5, 10, 14], "transform_expression_matrix": [4, 5, 10, 14], "arcsinh": [4, 5, 10, 14], "anoth": 4, "raw": [4, 6], "vs": 4, "fig": [4, 5, 6, 9, 10, 11], "ax": [4, 5, 6, 9, 10, 11, 13], "subplot": [4, 5, 6, 9, 10, 11], "set_titl": [4, 6, 11], "text": [4, 6, 8, 10, 12, 13], "simplest": 4, "deriv": [4, 6, 14], "between": 4, "highli": [4, 5], "i": [4, 6, 11, 14], "take": [4, 5, 9, 11, 14], "ct_marker_dict": 4, "granulo": [4, 7], "nk": 4, "argmai": 4, "ds_with_ct_predict": 4, "drop_ob": [4, 14], "skip": [4, 9], "ct": [4, 9], "render_imag": [4, 5, 9, 10, 11, 13], "render_label": [4, 5, 9, 10, 11, 13], "readm": 4, "wa": [4, 9, 11, 15], "21": [4, 5, 9, 10, 11], "pad": [4, 13], "dapi": [4, 5, 6, 7, 8, 9, 10, 11, 12, 14, 15], "tick": 4, "set_xtick": [4, 9], "set_ytick": [4, 9], "titl": 4, "tight_layout": [4, 9, 10, 11], "veri": [4, 5, 10], "easi": [4, 5, 8, 10, 12], "simpli": [4, 5, 8, 10, 11, 12], "get_layer_as_df": [4, 5, 8, 9, 10, 11, 14], "pars": [4, 8], "human": 4, "readabl": 4, "format": [4, 6, 7, 8, 9, 10, 13], "automat": [4, 6], "frame": [4, 9], "celltypes_to_str": [4, 14], "involv": 4, "previou": 4, "11": [4, 5, 6, 7, 10, 11, 12], "la_prop": [4, 5, 9, 10, 12], "12560": [4, 6, 7, 8, 10, 12], "3000": [4, 6, 7, 8, 10, 12], "13": [4, 5, 6, 7, 9, 10, 11, 12], "12556": [4, 6, 7, 10, 12], "12557": [4, 6, 7, 10, 12], "12558": [4, 6, 7, 8, 10, 12], "12559": [4, 6, 7, 8, 10, 12], "2994": [4, 6, 7, 10, 12], "2995": [4, 6, 7, 10, 12], "2996": [4, 6, 7, 8, 10, 12], "2997": [4, 6, 7, 8, 10, 12], "2998": [4, 6, 7, 8, 10, 12], "2999": [4, 6, 7, 8, 10, 12], "_la_properti": [4, 5, 9, 10, 12], "u20": [4, 10, 12], "c1": [4, 7, 10, 12, 13], "vascular": [4, 7, 10, 12], "613": [4, 6, 7, 10, 12], "249e": [4, 10, 12], "237e": [4, 8, 10, 12], "002128": 4, "413": 4, "612": 4, "3275": 4, "12": [4, 5, 6, 10, 11, 12, 13, 15], "minor": 4, "reform": 4, "seg": 4, "ds_for_astir": 4, "drop_lay": [4, 6, 7, 11, 14], "add_segment": [4, 5, 11, 14], "768": [4, 6, 7, 8], "14": [4, 5, 6, 9, 10, 11, 12], "slightli": 4, "ds_with_ct_predictions_astir": 4, "train": [4, 5, 10, 11], "restart": 4, "64": [4, 8, 11, 15], "epoch": [4, 15], "current": [4, 5, 9, 10, 11, 13], "loss": 4, "28080": 4, "30": [4, 5, 6, 9, 10, 11], "28630": 4, "28": [4, 8, 11], "30071": 4, "31": [4, 11], "28048": 4, "26": [4, 8, 11], "28901": 4, "final": [4, 5, 9, 10, 12], "20": [4, 5, 6, 9, 10, 11], "500": [4, 5, 6, 10, 15], "49673": 4, "15": [4, 5, 9, 10, 11], "back": [4, 9, 11], "other": [4, 5, 9, 10, 11], "darkgrai": 4, "add_observ": [4, 5, 10, 11, 14], "16": [4, 5, 10, 11, 13], "17": [4, 5, 9, 10, 11], "For": [4, 5, 7, 8, 9, 10, 13], "posit": [4, 5, 11], "achiev": 4, "18": [4, 5, 7, 9, 10, 11, 12], "func": [4, 5, 6, 10, 14], "percentage_posit": 4, "_percentage_posit": 4, "19": [4, 5, 9, 10, 11], "percentag": 4, "requir": [4, 5, 9, 10, 11, 13, 15], "ds_with_binar": 4, "gold": [4, 6, 10, 11], "scatter": [4, 10, 13], "pax5_binar": 4, "size": [4, 5, 9, 10, 11, 13, 15], "palett": [4, 10, 13], "grai": [4, 10], "cd3_binar": [4, 8], "cd4_binar": [4, 10], "cd8_binar": 4, "just": [4, 6, 14], "subset": [4, 5, 10, 11, 12, 14], "singl": [4, 6, 8, 9, 11, 13, 14], "low": [4, 5], "onc": [4, 8, 9, 13], "illustr": [4, 6, 9, 10], "purpos": [4, 5], "relax": 4, "80": [4, 11, 12], "previous": 4, "choos": 4, "concept": [4, 6, 9], "when": [4, 9, 10, 11, 12, 13, 14], "ds_with_binarization_cd4": [4, 10], "second": [4, 6, 10], "look": [4, 5, 6, 9, 10, 11], "ds_with_binarization_cd4_t": 4, "22": [4, 5, 9, 10, 11], "legend_label": [4, 11, 13], "cd4_t_binar": 4, "welcom": 5, "go": 5, "through": 5, "step": [5, 6, 9], "read": [5, 8], "multiplex": 5, "basic": [5, 6], "boost": [5, 6], "nois": [5, 6], "ratio": [5, 6], "simpl": [5, 10], "techniqu": 5, "load_ext": 5, "skimag": [5, 6, 14], "imread": 5, "befor": [5, 11, 13], "done": [5, 8, 11, 14], "tifffil": 5, "librari": [5, 11], "displai": [5, 10, 13], "tiff": [5, 8], "To": [5, 6, 9, 10, 11, 12, 14], "feed": 5, "sp_object": 5, "load_image_data": 5, "channel_coord": 5, "foxp3": [5, 7, 8, 9], "bcl6": 5, "manual": [5, 6, 11], "form": 5, "read_csv": 5, "markerlist": 5, "txt": 5, "header": 5, "tolist": 5, "inspect": 5, "call": [5, 6, 9, 10, 11, 13], "u5": 5, "492": 5, "493": 5, "494": 5, "495": 5, "496": 5, "497": 5, "498": 5, "499": 5, "uint16": [5, 11], "10816": 5, "12359": 5, "14504": 5, "10965": 5, "147": [5, 12], "149": [5, 12], "59xarrai": 5, "5y": 5, "500x": 5, "500coordin": 5, "499arrai": 5, "uint1610816": 5, "59arrai": 5, "8317": 5, "8919": 5, "8115": 5, "10863": 5, "10951": 5, "11972": 5, "8847": 5, "7674": 5, "7324": 5, "11379": 5, "8648": 5, "8514": 5, "6802": 5, "5289": 5, "5650": 5, "9458": 5, "5985": 5, "2289": 5, "4701": 5, "2877": 5, "884": 5, "11675": 5, "5429": 5, "2905": 5, "4871": 5, "3151": 5, "1291": [5, 11], "7802": 5, "3931": 5, "4377": 5, "4068": 5, "3155": 5, "1503": 5, "1462": 5, "172": 5, "1210": 5, "735": 5, "507": 5, "1187": 5, "181": 5, "98": 5, "1513": 5, "506": 5, "316": 5, "1303": 5, "188": [5, 10], "247": 5, "1525": 5, "441": 5, "193": 5, "346": [5, 6, 7, 8], "795": 5, "2618": 5, "1174": 5, "815": 5, "1095": 5, "1208": 5, "1954": 5, "2883": 5, "2062": 5, "1266": 5, "3741": 5, "3775": 5, "2779": 5, "3073": 5, "1449": 5, "973": 5, "8356": 5, "1092": 5, "66": [5, 8, 11], "3192": 5, "390": 5, "314": 5, "244": 5, "3710": 5, "1156": 5, "957": 5, "959": 5, "82": [5, 11], "746": 5, "3782": 5, "27": [5, 11], "567": 5, "3375": 5, "10237": 5, "88": 5, "3861": 5, "6956": 5, "9181": 5, "61": 5, "81": [5, 11], "280": [5, 10, 11], "248": 5, "87": 5, "68": [5, 8, 11], "59": [5, 11], "398": 5, "235": 5, "117": 5, "367": 5, "163": 5, "138": 5, "168": 5, "50": [5, 6, 10, 11, 12, 13], "137": 5, "60": [5, 7], "23": [5, 9, 10, 11], "53": [5, 12], "213": 5, "92": 5, "293": [5, 11], "135": 5, "219": 5, "372": 5, "281": 5, "134": 5, "395": [5, 12], "270": 5, "365": 5, "397": 5, "218": 5, "296": [5, 11], "275": 5, "297": 5, "234": 5, "114": 5, "310": 5, "216": 5, "269": [5, 11], "207": 5, "205": 5, "222": 5, "195": 5, "305": 5, "233": 5, "332": 5, "490": 5, "491": 5, "fluoresc": [5, 10], "frequent": 5, "suffer": 5, "allevi": 5, "problem": [5, 11], "therebi": 5, "contrast": 5, "autom": [5, 6], "determin": [5, 13], "oper": [5, 11, 15], "difficult": [5, 9], "come": 5, "work": [5, 6, 8, 10, 11], "therefor": 5, "let": [5, 6, 8, 9, 10, 11], "bit": [5, 9, 14], "much": [5, 11], "feel": 5, "promis": [5, 6], "about": [5, 14], "good": [5, 6], "clearer": [5, 10], "codeblock": 5, "2d": [5, 14], "kernel": [5, 11], "smooth": [5, 6], "great": 5, "univers": [5, 11], "hand": 5, "membran": [5, 11, 15], "nuclei": [5, 11], "extend": 5, "direct": [5, 11], "instal": [5, 10, 11, 15], "pip": 5, "your": [5, 6, 8, 9, 10, 11], "termin": 5, "neither": [5, 10, 11], "torch": [5, 10, 11], "cuda": [5, 10, 11], "nor": [5, 10, 11], "mp": [5, 10, 11], "cpu": [5, 10, 11], "cyto3": [5, 10, 11, 15], "model": [5, 10, 11, 15], "home": [5, 8, 10, 11], "meyerben": [5, 8, 10, 11], "conda": [5, 6, 7, 8, 10, 11], "tmp_env_2": [5, 10, 11], "resnet_torch": [5, 10, 11], "futurewarn": [5, 10, 11], "weights_onli": [5, 10, 11], "pickl": [5, 10, 11], "implicitli": [5, 10, 11], "possibl": [5, 9, 10, 11, 12, 13], "construct": [5, 10, 11], "malici": [5, 10, 11], "execut": [5, 10, 11], "arbitrari": [5, 10, 11, 14], "dure": [5, 10, 11], "unpickl": [5, 10, 11], "github": [5, 10, 11], "com": [5, 10, 11], "pytorch": [5, 10, 11], "blob": [5, 10, 11], "main": [5, 9, 10, 11], "secur": [5, 10, 11], "md": [5, 10, 11], "untrust": [5, 10, 11], "detail": [5, 10, 11], "futur": [5, 10, 11], "releas": [5, 10, 11], "flip": [5, 10, 11], "limit": [5, 10, 11], "longer": [5, 10, 11], "via": [5, 9, 10, 11, 13], "mode": [5, 10, 11, 13, 14], "unless": [5, 10, 11], "thei": [5, 9, 10, 11, 14, 15], "explicitli": [5, 10, 11], "allowlist": [5, 10, 11], "serial": [5, 10, 11], "add_safe_glob": [5, 10, 11], "recommend": [5, 10, 11], "don": [5, 10, 11], "full": [5, 9, 10, 11], "control": [5, 9, 10, 11, 13], "pleas": [5, 9, 10, 11, 13], "issu": [5, 8, 10, 11], "relat": [5, 9, 10, 11], "experiment": [5, 10, 11], "state_dict": [5, 10, 11], "filenam": [5, 10, 11], "map_loc": [5, 10, 11], "devic": [5, 10, 11], "diam_mean": [5, 10, 11], "000": [5, 10, 11], "roi": [5, 10, 11], "rescal": [5, 10, 11, 14], "estim": [5, 10, 11], "diamet": [5, 10, 11, 15], "52": [5, 11, 12], "sec": [5, 10, 11], "90": [5, 11], "find": [5, 6, 9, 10, 11], "total": [5, 6, 10, 11], "realiz": 5, "_cellpose_segment": [5, 10, 11, 15], "appear": [5, 6, 11, 13], "anyth": [5, 15], "treat": [5, 11], "now": [5, 9, 11], "caus": 5, "gener": [5, 10], "after": [5, 6, 11, 13, 14, 15], "alwai": [5, 6, 10, 11], "afterward": [5, 9], "reason": [5, 8], "later": [5, 8, 11, 12], "track": 5, "thing": [5, 11], "like": [5, 8, 9, 10], "etc": 5, "synchron": 5, "know": 5, "1335": 5, "1331": 5, "1332": 5, "1333": 5, "1334": 5, "602e": 5, "538": 5, "262": 5, "500cell": 5, "1335featur": 5, "2coordin": [5, 7, 11], "1335arrai": 5, "69e": 5, "000e": 5, "690e": 5, "476e": 5, "413e": 5, "555e": 5, "541e": 5, "389e": 5, "387e": 5, "031e": 5, "085e": 5, "168e": 5, "158e": 5, "801e": 5, "616e": 5, "116e": 5, "894e": 5, "890e": 5, "01": [5, 11], "670e": 5, "420e": 5, "800e": 5, "900e": 5, "uint160": [5, 11], "474": 5, "53846154": 5, "88461538": 5, "47368421": 5, "56": [5, 6, 7, 8, 9, 10, 12], "31578947": 5, "14285714": 5, "62": [5, 7, 11], "71428571": 5, "13513514": 5, "289": [5, 11], "83783784": 5, "775": 5, "423": 5, "1326": 5, "1327": 5, "1328": 5, "1329": 5, "1330": 5, "over": [5, 9, 10, 14], "exactli": [5, 10], "did": 5, "zoom": [5, 6], "littl": 5, "pictur": [5, 10], "One": [5, 12], "small": [5, 11], "henc": 5, "too": 5, "big": 5, "addit": [5, 9, 10, 13, 14, 15], "grow": [5, 10, 11, 14], "try": [5, 6, 11], "captur": [5, 9, 11], "cytosol": 5, "distribut": [5, 10, 11], "hist": [5, 10, 11], "bin": [5, 10, 11], "concaten": [5, 10, 11], "less": [5, 9, 11], "than": [5, 10, 11, 13, 14], "150": [5, 12], "filter_by_ob": [5, 11, 14], "lambda": [5, 7, 9, 11, 14, 15], "expand": [5, 14], "grow_cel": [5, 10, 11, 14], "iter": [5, 10, 14, 15], "recalcul": [5, 10, 11, 14], "300": 5, "sensibl": 5, "transform": [5, 14], "been": 5, "proven": 5, "pretti": 5, "well": [5, 6, 8, 9], "intensity_mean": [5, 10, 14], "1320": 5, "1316": 5, "1317": 5, "1318": 5, "1319": 5, "85": 5, "422": 5, "025": 5, "431": 5, "26xarrai": 5, "1320featur": 5, "1320arrai": 5, "462": 5, "46153846": 5, "73076923": 5, "166": 5, "8021978": 5, "4625": 5, "202": 5, "9875": 5, "71698113": 5, "290": [5, 11], "75471698": 5, "14864865": 5, "90540541": 5, "float648": [5, 7], "524": 5, "9862": 5, "26arrai": 5, "02533989": 5, "4310775": 5, "52379938": 5, "4860095": 5, "74345457": 5, "86294729": 5, "99507279": 5, "92916089": 5, "6463534": 5, "67307389": 5, "94682454": 5, "77807688": 5, "07465591": 5, "23872049": 5, "71636523": 5, "00547159": 5, "43972698": 5, "71033224": 5, "00423785": 5, "50734018": 5, "52182503": 5, "97424798": 5, "69704542": 5, "38696719": 5, "22144918": 5, "98622367": 5, "26038737": 5, "1311": 5, "1312": 5, "1313": 5, "1314": 5, "1315": 5, "As": [5, 9, 12], "introduc": 5, "beforehand": 5, "idea": [5, 6, 9], "t_h": 5, "t_tox": [5, 12], "t_reg": 5, "t_fh": 5, "7b4f4b": [5, 7], "4la_prop": 5, "2channel": [5, 11], "3coordin": [5, 11], "4arrai": [5, 11], "fad09f": 5, "9b9700": 5, "a30059": 5, "float644": 5, "la_propspandasindexpandasindex": [5, 9], "coupl": 5, "furthermor": 5, "24": [5, 11], "25": [5, 9, 11], "And": 5, "immunofluoresc": 5, "question": 5, "exemplari": 6, "algorithm": [6, 15], "99": [6, 14], "wherea": 6, "correctli": [6, 8], "set_opt": [6, 8, 10, 12], "display_styl": [6, 8, 10, 12], "core": [6, 7, 8, 10, 11, 12], "0x7f890186f370": 6, "conveni": [6, 7, 9, 10], "bnhl_166_4_i2_lk": [6, 7], "focus": 6, "better": [6, 9], "ds_single_channel": 6, "ikzf3": [6, 7, 9], "ds_multichannel": 6, "opt": [6, 7], "helio": [6, 7, 8, 9, 10, 12], "cd10": [6, 7, 8, 10, 12], "cd79a": [6, 7, 8, 9, 10, 12], "_original_": [6, 7, 8], "_arcsinh_mean": [6, 7, 8], "111": [6, 7, 8, 10], "391": [6, 7, 10], "324": [6, 7, 10, 11], "4174": [6, 7, 8, 10], "_arcsinh_sum": [6, 7, 8], "564": [6, 7], "625": [6, 7], "224": [6, 7, 8], "_raw_mean": [6, 7, 8], "426": [6, 7], "727": [6, 7], "148": [6, 7, 8, 12], "_raw_sum": [6, 7, 8], "053e": [6, 7, 8], "04": [6, 7, 8, 11], "885e": [6, 7], "464": [6, 7], "c3": [6, 7, 13], "seem": 6, "fairli": 6, "unspecif": 6, "bind": 6, "mean": [6, 9, 14], "rang": 6, "enumer": 6, "999": 6, "deepskyblu": [6, 9, 10, 11], "medianfilt": 6, "reduc": 6, "choic": 6, "With": [6, 9, 10], "multichannel": 6, "applic": [6, 15], "ndimag": 6, "gaussian_filt": 6, "def": [6, 9], "multiply_arrai": 6, "arr": 6, "factor": [6, 13, 14, 15], "clip": [6, 14], "astyp": [6, 8], "sigma": 6, "gaussian": 6, "variat": 6, "larg": [6, 9, 15], "gradient": 6, "impli": 6, "rapid": 6, "fluctuat": 6, "restor": 6, "denoise_tv_chambol": 6, "view": 6, "1000": [6, 10, 11], "1500": [6, 10], "weight": [6, 11], "001": [6, 15], "variou": 6, "local_threshold_single_channel": 6, "im": [6, 13], "selem": 6, "morpholog": 6, "disk": [6, 8], "im_mean": 6, "rank": 6, "footprint": 6, "approach": [6, 9], "highest": 6, "rate": [6, 14, 15], "chang": [6, 9], "find_optimal_threshold": 6, "min_k": 6, "max_k": 6, "arr_mean": 6, "linspac": 6, "n_pix": 6, "empty_lik": 6, "len": 6, "sum": 6, "rough": 6, "dn_pix_dk2": 6, "diff": 6, "maxim": 6, "max_ind": 6, "k_opt": 6, "print": 6, "optim": [6, 11], "8585858585858586": 6, "particular": 6, "instanc": [6, 15], "cutoff": 6, "best": 6, "mai": [6, 9, 11, 14], "situat": 6, "varieti": [7, 10], "napari": 7, "visualizt": 7, "napari_spatialdata": 7, "12560channel": 7, "56y": [7, 9], "3000x": 7, "3000featur": 7, "4label": 7, "8prop": 7, "12560arrai": 7, "tcf7": [7, 8], "tcf1": [7, 8, 9], "l1": [7, 8, 9], "cd69": [7, 8, 9], "perforin": [7, 8], "cd19": [7, 8, 9], "cd21": [7, 9], "cd62l": [7, 9], "c": [7, 8, 9, 15], "myc": [7, 9], "cd138": [7, 9], "cd25": [7, 9], "noxa": [7, 9], "serpin": 7, "b9": 7, "cd38": [7, 9, 12], "sparc": [7, 9], "ico": [7, 9], "cxcr5": [7, 9], "cd163": [7, 9], "fadd": 7, "p53": [7, 9], "collagen": [7, 9], "iv": [7, 9], "cd7": [7, 9], "kappa": [7, 9], "cd20": [7, 9], "cd45ra": [7, 9], "cd57": [7, 9], "hla": [7, 9], "dr": [7, 9], "cd45": [7, 8, 9], "cytokeratin": [7, 8], "cd45ro": [7, 8, 9], "granyzm": [7, 8], "8arrai": 7, "2999arrai": 7, "float643": 7, "4174arrai": 7, "1113318": 7, "39104035": 7, "42827631": 7, "528275": [7, 8], "4582596": 7, "80498506": 7, "16832115": 7, "02908251": 7, "42634428": 7, "52842933": 7, "38021961": 7, "73394497": 7, "57174597": 7, "72733529": 7, "49741472": 7, "19334124": 7, "35344852": 7, "4051073": 7, "92614581": 7, "43286647": 7, "43748239": 7, "5590982": 7, "43428781": 7, "39939674": 7, "47313597": 7, "21632852": 7, "3602909": 7, "39690411": 7, "32359853": 7, "41740323": 7, "224arrai": 7, "34578789": 7, "56357539": 7, "11202408": 7, "33756119": 7, "18405964": 7, "06400745": 7, "32936752": 7, "27434143": 7, "13347749": 7, "36412702": 7, "54954425": 7, "87275074": 7, "35849345": 7, "6319412": 7, "20623213": 7, "7446156": 7, "83733397": 7, "36972904": 7, "30846599": 7, "43983577": 7, "887487": 7, "96489236": 7, "34139979": 7, "78762075": 7, "43286736": 7, "58999749": 7, "66746719": 7, "17051628": 7, "62539413": 7, "22362285": 7, "uint84": 7, "2arrai": 7, "float64613": 7, "13329787e": 7, "68420213e": 7, "69098446e": 7, "07544041e": 7, "74528409e": 7, "44284091e": 7, "26591085e": 7, "23199225e": 7, "28148069e": 7, "21842489e": 7, "24906944e": 7, "23656481e": 7, "float6456": 7, "148arrai": 7, "01595745": 7, "42553191": 7, "20744681": 7, "76595745": 7, "37234043": 7, "16580311": 7, "2642487": 7, "68911917": 7, "19689119": 7, "76683938": 7, "35795455": 7, "71590909": 7, "01704545": 7, "96590909": 7, "59090909": 7, "82170543": 7, "03100775": 7, "08139535": 7, "32170543": 7, "23255814": 7, "69098712": 7, "36051502": 7, "24034335": 7, "51502146": 7, "45493562": 7, "24074074": 7, "10185185": 7, "03703704": 7, "72685185": 7, "14814815": 7, "10531": 7, "1772": 7, "415": 7, "520": 7, "446": 7, "7945": 7, "1402": 7, "3607": 7, "424": 7, "534": 7, "12911": 7, "2414": 7, "531": 7, "698": 7, "456": 7, "15692": 7, "2330": 7, "537": 7, "1373": 7, "576": 7, "18102": 7, "2647": 7, "522": 7, "2217": 7, "572": 7, "13444": 7, "1966": 7, "440": 7, "1885": 7, "c7": 7, "c2": [7, 12, 13], "lymphat": [7, 12], "c0": [7, 12, 13], "ffff00": [7, 12], "1ce6ff": [7, 11], "12551": 7, "12552": 7, "12553": 7, "12554": [7, 12], "12555": [7, 12], "2990": 7, "2991": 7, "2992": 7, "2993": 7, "turn": 7, "sd_obj": 7, "convert_to_spatialdata": [7, 8, 15], "expression_matrix_kei": [7, 8, 15], "transpos": [7, 8], "dask": [7, 8], "cyx": [7, 8], "yx": [7, 8], "system": [7, 8], "global": [7, 8], "shutil": 8, "0x7f265b472320": 8, "seen": 8, "read_from_spatialdata": 8, "spatialdata_exampl": 8, "image_kei": [8, 14, 15], "raccoon": 8, "root_attr": 8, "multiscal": 8, "omero": 8, "coordinatetransform": 8, "scale": [8, 14, 15], "path": 8, "resolut": 8, "1024": 8, "chunk": 8, "760": 8, "761": 8, "762": 8, "763": 8, "764": 8, "765": 8, "766": 8, "767": 8, "1018": 8, "1019": 8, "1020": 8, "1021": 8, "1022": 8, "1023": 8, "63": [8, 11], "65": [8, 11], "69": [8, 11], "chunksiz": 8, "meta": 8, "402": 8, "736": 8, "890": 8, "happi": 8, "easiest": 8, "support": [8, 13], "test": 8, "notic": [8, 11], "tmp": 8, "spatialproteomics_env": 8, "netcdf4": 8, "u14": [8, 12], "cent": 8, "c8a1a1": 8, "line": [8, 9, 13], "to_zarr": 8, "your_path": 8, "might": [8, 9, 10, 11], "known": 8, "hopefulli": 8, "fix": [8, 11], "soon": 8, "unicod": 8, "necessari": 8, "box": [8, 13, 14], "zarr_path": 8, "rmtree": 8, "zarrstor": 8, "0x7ffcc2566440": 8, "sai": [8, 10], "head": [8, 9], "111332": 8, "391040": 8, "532299": 8, "700792": 8, "000000": [8, 9], "026824": 8, "029783": 8, "345229": 8, "018150": 8, "460342": 8, "595998": 8, "719421": 8, "714288": 8, "428276": 8, "458260": 8, "804985": 8, "168321": 8, "395341": 8, "847262": 8, "002073": 8, "559274": 8, "294762": 8, "303109": 8, "642876": 8, "328594": 8, "799208": 8, "029083": 8, "426344": 8, "528429": 8, "380220": 8, "733945": 8, "666575": 8, "020150": 8, "066995": 8, "397469": 8, "013636": 8, "822320": 8, "412199": 8, "153628": 8, "763425": 8, "767838": 8, "036900": 8, "571746": 8, "727335": 8, "497415": 8, "987283": 8, "297533": 8, "607904": 8, "572571": 8, "003597": 8, "960472": 8, "004317": 8, "297740": 8, "242867": 8, "149749": 8, "583574": 8, "473159": 8, "804046": 8, "425201": 8, "427177": 8, "436378": 8, "120023": 8, "542808": 8, "928561": 8, "155537": 8, "463069": 8, "010959": 8, "872304": 8, "079369": 8, "005996": 8, "212105": 8, "894870": 8, "299642": 8, "743329": 8, "518868": 8, "011288": 8, "488958": 8, "row": 8, "to_csv": 8, "scanpi": 8, "interest": [8, 10, 11], "analys": 8, "tabular": 8, "matrix": [8, 9, 10, 14, 15], "adata": [8, 15], "convert_to_anndata": [8, 15], "additional_lay": [8, 15], "arcsinh_sum": 8, "raw_mean": 8, "raw_sum": 8, "additional_un": [8, 15], "label_color": 8, "n_ob": 8, "n_var": 8, "un": [8, 15], "write": 8, "hdf5": 8, "h5ad": 8, "commonli": 8, "omic": 8, "power": 8, "54": [8, 11, 12], "spatialdata_object": 8, "spatialimag": 8, "spatialdata_attr": 8, "channels_metadata": 8, "1548": 8, "1452": 8, "parent": 8, "ome_zarr": 8, "reader": 8, "0x7fffc1abe670": 8, "consist": 9, "rel": 9, "abund": 9, "surround": [9, 13], "cluster": 9, "across": 9, "sampl": 9, "sklearn": 9, "kmean": 9, "three": [9, 11], "insid": [9, 13], "sp_obj_1": 9, "open_dataset": 9, "sample_1": 9, "sp_obj_2": 9, "sample_2": 9, "sp_obj_3": 9, "sample_3": 9, "sp_dict": 9, "compute_neighborhood": 9, "yourself": 9, "refer": [9, 11, 13], "section": 9, "end": 9, "image_contain": 9, "same": [9, 10, 11, 12, 14], "flatten": 9, "arang": 9, "darkgreen": 9, "darkr": [9, 11], "render_neighborhood": [9, 10, 13], "desir": 9, "cumbersom": 9, "profil": 9, "written": 9, "investig": 9, "reset": 9, "sp_obj_1_with_neighborhood": 9, "6901": [9, 12], "2000": [9, 10, 12, 15], "6897": [9, 12], "6898": [9, 12], "6899": [9, 12], "6900": [9, 12], "1995": [9, 12], "1996": [9, 12], "1997": [9, 12], "1998": [9, 12], "1999": [9, 12], "904": [9, 12], "7812": 9, "2344xarrai": 9, "6901celltype_level": 9, "2000x": 9, "2000label": 9, "9la_prop": 9, "2featur": 9, "17coordin": 9, "6901arrai": 9, "cy7": 9, "cxcr3": 9, "irf4": 9, "na": [9, 11], "atpas": [9, 11], "pd1": 9, "granzym": 9, "1999arrai": 9, "20703": 9, "224000000": 9, "649e": 9, "000000e": 9, "330565e": 9, "680282e": 9, "348092e": 9, "109313e": 9, "353251e": 9, "843300e": 9, "643940e": 9, "614188e": 9, "646662e": 9, "629873e": 9, "649231e": 9, "045299e": 9, "4000000": 9, "2344arrai": 9, "78125": 9, "203125": 9, "77941176": 9, "20588235": 9, "76119403": 9, "01492537": 9, "19402985": 9, "609375": 9, "078125": 9, "03125": 9, "69565217": 9, "04347826": 9, "01449275": 9, "2173913": 9, "09375": 9, "234375": 9, "6892": 9, "6893": 9, "6894": 9, "6895": 9, "6896": 9, "1990": 9, "1991": 9, "1992": 9, "1993": 9, "1994": 9, "781250": 9, "015625": 9, "779412": 9, "014706": 9, "205882": 9, "761194": 9, "029851": 9, "014925": 9, "194030": 9, "753846": 9, "030769": 9, "015385": 9, "200000": 9, "811594": 9, "014493": 9, "173913": 9, "behavior": 9, "aggreg": 9, "sp_obj": 9, "item": 9, "append": 9, "replac": [9, 14], "nan": 9, "0s": 9, "never": 9, "concat": 9, "fillna": 9, "altern": 9, "hierarch": 9, "pairwis": 9, "distanc": [9, 10], "adjust": [9, 10], "n_cluster": 9, "random_st": 9, "fit": 9, "kmeans_df": 9, "labels_": 9, "sample_id": 9, "num_cel": 9, "tmp_df": 9, "lightgreen": [9, 12], "both": [9, 14], "rich": 9, "zone": 9, "depend": [9, 15], "amount": 9, "renam": 9, "directli": [9, 11, 14], "syntax": [9, 12], "style": [9, 13], "legend_neighborhood": [9, 13], "neighborh": 9, "graph": 9, "circl": 9, "drawn": 9, "knn": 9, "count": 9, "higher": 9, "strategi": 9, "compute_and_plot_clust": 9, "creation": 9, "OF": 9, "THE": 9, "joint": [9, 10, 11, 15], "elif": 9, "INTO": 9, "orang": [9, 10, 11], "purpl": 9, "suptitl": 9, "chosen": 9, "arbitrarili": 9, "tmp_dict": 9, "non": 9, "consecut": 9, "relabel": [9, 14], "0x7f4228263940": 10, "capabl": 10, "pattern": 10, "avail": [10, 11, 13, 14], "shown": 10, "overlai": [10, 12], "quickli": [10, 12], "accept": 10, "easili": 10, "modifi": [10, 13], "normal": [10, 13, 14, 15], "api": 10, "popul": 10, "By": [10, 14], "legend": [10, 13], "disabl": 10, "legend_imag": [10, 13], "alter": 10, "ticklabel": 10, "snip": 10, "highlight": [10, 13], "empti": 10, "space": 10, "microarrai": 10, "xtick": 10, "ytick": 10, "retain": [10, 14], "render_ob": 10, "cmap": 10, "plasma": 10, "legend_ob": [10, 13], "simultan": 10, "deactiv": 10, "boundari": [10, 13], "lie": 10, "rather": 10, "lastli": 10, "ds_neighborhood": 10, "sample_1_with_neighborhood": [10, 12], "add_box": [10, 13], "1230": 10, "1480": 10, "640": 10, "840": 10, "label_kwarg": [10, 13], "gain": 10, "high": [10, 13], "level": [10, 11, 13], "wrapper": [10, 11, 13], "nuanc": 10, "few": 10, "consult": 10, "document": [10, 11], "scatterplot": 10, "instad": 10, "scatter_label": [10, 13], "continu": [10, 14], "ds_tmp": 10, "scatter_kw": [10, 13], "ylorrd": 10, "2500": 10, "ds_multisegment": 10, "independ": [10, 11, 14, 15], "channel_set": [10, 11, 15], "appropri": [10, 11], "29": [10, 11], "57": [10, 11], "86": [10, 11], "94": 10, "segmentation_kwarg": [10, 13], "histogram": [10, 11], "47": [10, 11], "sidenot": 10, "vornoi": 10, "diagram": 10, "48": [10, 11], "background": [10, 13], "caution": 10, "advis": 10, "light": 10, "mix": 10, "actual": 10, "49": [10, 11, 12], "pass": [10, 12, 13, 14, 15], "2e2e2": 10, "lightgrai": 10, "describ": 11, "nucleu": 11, "segmentation_exampl": 11, "1300": 11, "301": 11, "1001": 11, "1002": 11, "1003": 11, "1004": 11, "1296": 11, "1297": 11, "1298": 11, "1299": 11, "83": 11, "4xarrai": 11, "4y": 11, "301x": 11, "301coordin": 11, "int641000": 11, "1300arrai": 11, "uint886": 11, "58": 11, "32": 11, "1005": 11, "1006": 11, "1007": 11, "1008": 11, "1009": 11, "1292": 11, "1293": 11, "1294": 11, "1295": 11, "relev": [11, 13], "ds_cellpos": 11, "97": 11, "2y": 11, "uint828": 11, "35arrai": 11, "330": 11, "old": 11, "325": 11, "326": 11, "327": 11, "328": 11, "329": 11, "005e": 11, "011e": 11, "003e": 11, "03xarrai": 11, "301cell": 11, "330featur": 11, "330arrai": 11, "03arrai": 11, "44486692": 11, "1011": 11, "45247148": 11, "18024691": 11, "1033": 11, "65185185": 11, "6344086": 11, "1051": 11, "02150538": 11, "13888889": 11, "1063": 11, "79166667": 11, "87784091": 11, "1070": 11, "73011364": 11, "68398268": 11, "1088": 11, "97841727": 11, "1103": 11, "46753247": 11, "1119": 11, "64935065": 11, "8343949": 11, "1132": 11, "65605096": 11, "52674897": 11, "1147": 11, "69958848": 11, "02491103": 11, "1165": 11, "59430605": 11, "45833333": 11, "1177": 11, "80555556": 11, "65697674": 11, "1207": 11, "00581395": 11, "34536082": 11, "1257": 11, "71134021": 11, "11458333": 11, "1279": 11, "29166667": 11, "375": 11, "54375": 11, "1190": 11, "071875": 11, "1010": 11, "24773414": 11, "1222": 11, "36555891": 11, "77003484": 11, "1239": 11, "20557491": 11, "98924731": 11, "1111": 11, "97311828": 11, "1278": 11, "83141762": 11, "1143": 11, "9030837": 11, "1030": 11, "79295154": 11, "1282": 11, "31125828": 11, "36423841": 11, "1288": 11, "2875817": 11, "1120": 11, "708061": 11, "1289": 11, "25964912": 11, "1040": 11, "62807018": 11, "1285": 11, "59235669": 11, "84394904": 11, "1286": 11, "17525773": 11, "1260": 11, "2628866": 11, "04333333": 11, "1198": 11, "76452599": 11, "1237": 11, "55045872": 11, "89776358": 11, "1138": 11, "1341853": 11, "83713355": 11, "1216": 11, "22149837": 11, "02068966": 11, "1056": 11, "47241379": 11, "96491228": 11, "1097": 11, "3754386": 11, "05338078": 11, "34875445": 11, "54597701": 11, "23563218": 11, "40883978": 11, "1074": 11, "14364641": 11, "50806452": 11, "1251": 11, "9516129": 11, "56353591": 11, "1268": 11, "74585635": 11, "94805195": 11, "1182": 11, "46103896": 11, "91935484": 11, "46774194": 11, "321": 11, "322": 11, "323": 11, "drop": [11, 14], "again": [11, 12], "expect": [11, 13, 15], "ds_mesmer": 11, "whenev": 11, "_mesmer_segment": [11, 15], "2024": 11, "09": 11, "08": 11, "779560": 11, "tensorflow": 11, "stream_executor": 11, "platform": 11, "dso_load": 11, "cc": 11, "dynam": 11, "libcudart": 11, "dlerror": 11, "cannot": 11, "share": 11, "No": 11, "directori": 11, "ld_library_path": 11, "huber": 11, "cv2": 11, "lib64": 11, "779592": 11, "cudart_stub": 11, "ignor": [11, 14], "cudart": 11, "gpu": [11, 15], "machin": 11, "cach": 11, "multiplexsegment": 11, "tar": 11, "gz": 11, "against": 11, "file_hash": 11, "hash": 11, "a1dfbce2594f927b9112f23a0a1739e0": 11, "deepcel": 11, "successfulli": 11, "578971": 11, "libcuda": 11, "579002": 11, "cuda_driv": 11, "cuinit": 11, "unknown": [11, 14], "error": 11, "303": 11, "579038": 11, "cuda_diagnost": 11, "156": 11, "driver": 11, "proc": 11, "nvidia": 11, "619456": 11, "cpu_feature_guard": 11, "151": 11, "oneapi": 11, "deep": 11, "neural": 11, "network": 11, "onednn": 11, "instruct": 11, "critic": 11, "avx2": 11, "avx512f": 11, "fma": 11, "rebuild": 11, "compil": 11, "flag": [11, 15], "configur": [11, 13], "save": 11, "float": [11, 13, 14, 15], "stain": 11, "task": 11, "ds_stardist": 11, "_stardist_segment": [11, 15], "2d_versatile_fluo": 11, "stardist2d": 11, "weights_best": 11, "h5": 11, "json": 11, "prob_thresh": 11, "479071": 11, "nms_thresh": 11, "144": 11, "28it": 11, "tend": 11, "lot": 11, "collid": 11, "stop": 11, "ds_stardist_grown": 11, "grown": [11, 14], "hyperparamet": 11, "help": 11, "macrophag": 11, "matter": 11, "preced": 11, "06": 11, "320": 11, "uint82": 11, "overlap": 11, "ds_cellpose_merg": 11, "merge_segment": [11, 14], "lymphocyt": 11, "_merged_segment": [11, 14], "cell2": 11, "cell3": 11, "cell4": 11, "cell5": 11, "cell6": 11, "cell7": 11, "cell8": 11, "cell9": 11, "cell10": 11, "cell11": 11, "cell12": 11, "cell13": 11, "cell14": 11, "cell15": 11, "cell16": 11, "macrophage17": 11, "macrophage18": 11, "macrophage19": 11, "macrophage20": 11, "macrophage21": 11, "macrophage22": 11, "macrophage23": 11, "macrophage24": 11, "macrophage25": 11, "lymphocyte26": 11, "lymphocyte27": 11, "lymphocyte28": 11, "lymphocyte29": 11, "lymphocyte30": 11, "lymphocyte31": 11, "lymphocyte32": 11, "lymphocyte33": 11, "lymphocyte34": 11, "lymphocyte35": 11, "lymphocyte36": 11, "lymphocyte37": 11, "lymphocyte38": 11, "lymphocyte39": 11, "lymphocyte40": 11, "lymphocyte41": 11, "lymphocyte42": 11, "lymphocyte43": 11, "lymphocyte44": 11, "lymphocyte45": 11, "lymphocyte46": 11, "lymphocyte47": 11, "lymphocyte48": 11, "lymphocyte49": 11, "lymphocyte50": 11, "lymphocyte51": 11, "lymphocyte52": 11, "lymphocyte53": 11, "lymphocyte54": 11, "lymphocyte55": 11, "lymphocyte56": 11, "lymphocyte57": 11, "lymphocyte58": 11, "lymphocyte59": 11, "lymphocyte60": 11, "lymphocyte61": 11, "lymphocyte62": 11, "lymphocyte63": 11, "lymphocyte64": 11, "lymphocyte65": 11, "lymphocyte66": 11, "lymphocyte67": 11, "lymphocyte68": 11, "lymphocyte69": 11, "lymphocyte70": 11, "lymphocyte71": 11, "lymphocyte72": 11, "lymphocyte73": 11, "lymphocyte74": 11, "lymphocyte75": 11, "lymphocyte76": 11, "lymphocyte77": 11, "lymphocyte78": 11, "lymphocyte79": 11, "lymphocyte80": 11, "lymphocyte81": 11, "lymphocyte82": 11, "lymphocyte83": 11, "lymphocyte84": 11, "lymphocyte85": 11, "lymphocyte86": 11, "lymphocyte87": 11, "lymphocyte88": 11, "lymphocyte89": 11, "lymphocyte90": 11, "lymphocyte91": 11, "lymphocyte92": 11, "lymphocyte93": 11, "lymphocyte94": 11, "lymphocyte95": 11, "lymphocyte96": 11, "lymphocyte97": 11, "lymphocyte98": 11, "lymphocyte99": 11, "lymphocyte100": 11, "lymphocyte101": 11, "lymphocyte102": 11, "lymphocyte103": 11, "lymphocyte104": 11, "lymphocyte105": 11, "lymphocyte106": 11, "lymphocyte107": 11, "lymphocyte108": 11, "lymphocyte109": 11, "lymphocyte110": 11, "lymphocyte111": 11, "lymphocyte112": 11, "lymphocyte113": 11, "lymphocyte114": 11, "lymphocyte115": 11, "lymphocyte116": 11, "lymphocyte117": 11, "lymphocyte118": 11, "lymphocyte119": 11, "lymphocyte120": 11, "lymphocyte121": 11, "lymphocyte122": 11, "lymphocyte123": 11, "lymphocyte124": 11, "lymphocyte125": 11, "lymphocyte126": 11, "lymphocyte127": 11, "lymphocyte128": 11, "lymphocyte129": 11, "lymphocyte130": 11, "lymphocyte131": 11, "lymphocyte132": 11, "lymphocyte133": 11, "lymphocyte134": 11, "lymphocyte135": 11, "lymphocyte136": 11, "lymphocyte137": 11, "lymphocyte138": 11, "lymphocyte139": 11, "lymphocyte140": 11, "lymphocyte141": 11, "lymphocyte142": 11, "lymphocyte143": 11, "lymphocyte144": 11, "lymphocyte145": 11, "lymphocyte146": 11, "lymphocyte147": 11, "lymphocyte148": 11, "lymphocyte149": 11, "lymphocyte150": 11, "lymphocyte151": 11, "lymphocyte152": 11, "lymphocyte153": 11, "lymphocyte154": 11, "lymphocyte155": 11, "lymphocyte156": 11, "lymphocyte157": 11, "lymphocyte158": 11, "lymphocyte159": 11, "lymphocyte160": 11, "lymphocyte161": 11, "lymphocyte162": 11, "lymphocyte163": 11, "lymphocyte164": 11, "lymphocyte165": 11, "lymphocyte166": 11, "lymphocyte167": 11, "lymphocyte168": 11, "lymphocyte169": 11, "lymphocyte170": 11, "lymphocyte171": 11, "lymphocyte172": 11, "lymphocyte173": 11, "lymphocyte174": 11, "lymphocyte175": 11, "lymphocyte176": 11, "lymphocyte177": 11, "lymphocyte178": 11, "lymphocyte179": 11, "lymphocyte180": 11, "lymphocyte181": 11, "lymphocyte182": 11, "lymphocyte183": 11, "lymphocyte184": 11, "lymphocyte185": 11, "lymphocyte186": 11, "lymphocyte187": 11, "lymphocyte188": 11, "lymphocyte189": 11, "lymphocyte190": 11, "lymphocyte191": 11, "lymphocyte192": 11, "lymphocyte193": 11, "lymphocyte194": 11, "lymphocyte195": 11, "lymphocyte196": 11, "lymphocyte197": 11, "lymphocyte198": 11, "lymphocyte199": 11, "lymphocyte200": 11, "lymphocyte201": 11, "lymphocyte202": 11, "lymphocyte203": 11, "lymphocyte204": 11, "lymphocyte205": 11, "lymphocyte206": 11, "lymphocyte207": 11, "lymphocyte208": 11, "lymphocyte209": 11, "lymphocyte210": 11, "lymphocyte211": 11, "lymphocyte212": 11, "lymphocyte213": 11, "lymphocyte214": 11, "lymphocyte215": 11, "lymphocyte216": 11, "lymphocyte217": 11, "lymphocyte218": 11, "lymphocyte219": 11, "lymphocyte220": 11, "lymphocyte221": 11, "lymphocyte222": 11, "lymphocyte223": 11, "lymphocyte224": 11, "lymphocyte225": 11, "lymphocyte226": 11, "lymphocyte227": 11, "lymphocyte228": 11, "lymphocyte229": 11, "lymphocyte230": 11, "lymphocyte231": 11, "lymphocyte232": 11, "lymphocyte233": 11, "lymphocyte234": 11, "lymphocyte235": 11, "lymphocyte236": 11, "lymphocyte237": 11, "lymphocyte238": 11, "lymphocyte239": 11, "lymphocyte240": 11, "lymphocyte241": 11, "lymphocyte242": 11, "lymphocyte243": 11, "lymphocyte244": 11, "lymphocyte245": 11, "lymphocyte246": 11, "lymphocyte247": 11, "lymphocyte248": 11, "lymphocyte249": 11, "lymphocyte250": 11, "lymphocyte251": 11, "lymphocyte252": 11, "lymphocyte253": 11, "lymphocyte254": 11, "lymphocyte255": 11, "lymphocyte256": 11, "lymphocyte257": 11, "lymphocyte258": 11, "lymphocyte259": 11, "lymphocyte260": 11, "lymphocyte261": 11, "lymphocyte262": 11, "lymphocyte263": 11, "lymphocyte264": 11, "lymphocyte265": 11, "lymphocyte266": 11, "lymphocyte267": 11, "lymphocyte268": 11, "lymphocyte269": 11, "lymphocyte270": 11, "lymphocyte271": 11, "lymphocyte272": 11, "lymphocyte273": 11, "lymphocyte274": 11, "lymphocyte275": 11, "lymphocyte276": 11, "lymphocyte277": 11, "lymphocyte278": 11, "lymphocyte279": 11, "lymphocyte280": 11, "lymphocyte281": 11, "lymphocyte282": 11, "lymphocyte283": 11, "lymphocyte284": 11, "lymphocyte285": 11, "lymphocyte286": 11, "lymphocyte287": 11, "lymphocyte288": 11, "lymphocyte289": 11, "lymphocyte290": 11, "lymphocyte291": 11, "lymphocyte292": 11, "lymphocyte293": 11, "lymphocyte294": 11, "lymphocyte295": 11, "lymphocyte296": 11, "lymphocytearrai": 11, "292": 11, "294": 11, "295": 11, "04e": 11, "3prop": 11, "3x": 11, "301y": 11, "296featur": 11, "3arrai": 11, "296arrai": 11, "008941": 11, "fde8dc": 11, "03976395e": 11, "01177127e": 11, "04003425e": 11, "26775342e": 11, "05124330e": 11, "13856696e": 11, "10571235e": 11, "12722843e": 11, "14620124e": 11, "01776398e": 11, "16230389e": 11, "17880722e": 11, "18058482e": 11, "01311161e": 11, "19026624e": 11, "28613629e": 11, "20758269e": 11, "05454001e": 11, "20234309e": 11, "21452342e": 11, "26504545e": 11, "19021678e": 11, "28005426e": 11, "27537234e": 11, "27334663e": 11, "13492020e": 11, "28796612e": 11, "15875584e": 11, "29483128e": 11, "02832099e": 11, "00864773e": 11, "10269886e": 11, "05833333e": 11, "00033333e": 11, "05521469e": 11, "22499435e": 11, "09622517e": 11, "11684106e": 11, "12757364e": 11, "22200000e": 11, "27685165e": 11, "05537363e": 11, "27637826e": 11, "10934348e": 11, "27776289e": 11, "25349485e": 11, "28373222e": 11, "08769456e": 11, "28052941e": 11, "03161345e": 11, "28121739e": 11, "29705797e": 11, "28914216e": 11, "12124020e": 11, "28731452e": 11, "04151613e": 11, "29030841e": 11, "00780374e": 11, "29325301e": 11, "13526506e": 11, "29259551e": 11, "23957865e": 11, "29374242e": 11, "05472727e": 11, "29488554e": 11, "09443373e": 11, "29433544e": 11, "19741139e": 11, "29490265e": 11, "21288496e": 11, "29660000e": 11, "07444000e": 11, "29580769e": 11, "18414423e": 11, "29661429e": 11, "25181429e": 11, "29711111e": 11, "26706838e": 11, "29782500e": 11, "00297500e": 11, "287": 11, "288": 11, "291": 11, "far": 11, "perfect": 11, "pick": 11, "fine": 11, "tune": 11, "celltyp": [11, 14], "tweak": 11, "improv": 11, "0x7f75c7593e80": 12, "abil": 12, "intuit": 12, "togeth": 12, "familiar": 12, "bracket": 12, "visualis": 12, "understand": 12, "ridd": 12, "belong": 12, "respect": [12, 13], "51": 12, "55": 12, "145": 12, "146": 12, "1073": 12, "12504": 12, "12516": 12, "774": 12, "266e": 12, "232e": 12, "5891": 12, "12444": 12, "12469": 12, "12473": 12, "12505": 12, "12522": 12, "346e": 12, "865e": 12, "3571": 12, "12539": 12, "769": 12, "except": 12, "10488": 12, "10484": 12, "10485": 12, "10486": 12, "10487": 12, "ident": 12, "nh_prop": 12, "_nh_properti": 12, "n": [12, 14], "709": 12, "1571": 12, "1858": 12, "1895": 12, "1912": 12, "6204": 12, "6247": 12, "6293": 12, "neigh": 12, "plotaccessor": 13, "xlim": 13, "ylim": 13, "linewidth": 13, "bound": [13, 14], "xstart": 13, "xstop": 13, "ymin": 13, "ymax": 13, "rectangular": 13, "text_kwarg": 13, "fontsiz": 13, "highlight_kwarg": 13, "fontweight": 13, "bold": 13, "bbox": 13, "format_str": 13, "keyword": [13, 14, 15], "xmin": 13, "xmax": 13, "string": [13, 14], "2f": 13, "downsampl": [13, 14], "crop": 13, "tma": 13, "awai": 13, "obj": [13, 14, 15], "dcbeff": 13, "800000": 13, "aaffc3": 13, "808000": 13, "000075": 13, "a9a9a9": 13, "black": 13, "denot": 13, "prior": 13, "usag": 13, "legend_segment": 13, "legend_kwarg": 13, "framealpha": 13, "meant": 13, "conjunct": 13, "legendf": 13, "colorbar": 13, "inclus": 13, "alpha_boundari": 13, "inner": 13, "override_color": 13, "transpar": 13, "outer": 13, "overrid": 13, "outsid": 13, "boundary_color": 13, "dimgrai": 13, "boundary_thick": 13, "dilation_strength": 13, "erosion_strength": 13, "thick": 13, "strength": 13, "dilat": 13, "eros": 13, "blend": 13, "must": [13, 14], "zorder": 13, "At": 13, "point": 13, "z": 13, "greater": [13, 14], "color_schem": 13, "scatter_kwarg": 13, "neighborhood_kwarg": 13, "deal": 13, "render_intens": 13, "show_channel_legend": 13, "show_label_legend": 13, "preprocessingaccessor": 14, "fast": 14, "add_channel": 14, "add_featur": 14, "feature_nam": 14, "feature_valu": 14, "amend": 14, "dimension": 14, "field": 14, "add_obs_from_datafram": 14, "measur": 14, "regionprops_t": 14, "callabl": [14, 15], "add_quantification_from_datafram": 14, "reindex": 14, "keep_label": 14, "locat": 14, "mask_growth": 14, "initi": [14, 15], "kwarg": [14, 15], "convert_to_8bit": 14, "th": 14, "kept": 14, "suppress_warn": 14, "ones": 14, "suppress": 14, "col": 14, "segmentation_kei": [14, 15], "boolean": 14, "satisfi": 14, "condit": 14, "remain": 14, "70px": 14, "get_bbox": 14, "x_slice": 14, "y_slice": 14, "get_channel": 14, "retriev": 14, "get_disconnected_cel": 14, "disconnect": 14, "idx_to_str": 14, "handle_disconnect": 14, "handl": 14, "fill": 14, "mask_kei": 14, "multi": 14, "1d": 14, "precomput": 14, "3d": 14, "from_kei": 14, "key_base_segment": 14, "biggest": 14, "smaller": 14, "shift": 14, "subtract": 14, "rest": 14, "cofactor": 14, "min_percentil": 14, "max_percentil": 14, "zscore": 14, "minmax": 14, "double_zscor": 14, "minimum": 14, "maximum": [14, 15], "util": 15, "third": 15, "parti": 15, "toolaccessor": 15, "extern": 15, "seed": 15, "learning_r": 15, "batch_siz": 15, "n_init": 15, "n_init_epoch": 15, "max_epoch": 15, "cell_id_col": 15, "cell_id": 15, "cell_type_col": 15, "state": 15, "certainti": 15, "learn": 15, "batch": 15, "num_iter": 15, "cellprob_threshold": 15, "flow_threshold": 15, "model_typ": 15, "postprocess_func": 15, "attempt": 15, "obs_kei": 15, "spatial_data_object": 15, "assum": 15, "n_tile": 15, "predict_big": 15, "tile": 15, "split": 15, "nuclear_channel": 15, "predict_instances_big": 15}, "objects": {"spatialproteomics.la": [[1, 0, 0, "-", "label"]], "spatialproteomics.la.label": [[1, 1, 1, "", "LabelAccessor"]], "spatialproteomics.la.label.LabelAccessor": [[1, 2, 1, "", "add_label_property"], [1, 2, 1, "", "add_label_type"], [1, 2, 1, "", "add_labels"], [1, 2, 1, "", "add_labels_from_dataframe"], [1, 2, 1, "", "add_properties"], [1, 2, 1, "", "deselect"], [1, 2, 1, "", "predict_cell_subtypes"], [1, 2, 1, "", "predict_cell_types_argmax"], [1, 2, 1, "", "remove_label_type"], [1, 2, 1, "", "set_label_colors"], [1, 2, 1, "", "set_label_name"], [1, 2, 1, "", "threshold_labels"]], "spatialproteomics.nh": [[2, 0, 0, "-", "neighborhood"]], "spatialproteomics.nh.neighborhood": [[2, 1, 1, "", "NeighborhoodAccessor"]], "spatialproteomics.nh.neighborhood.NeighborhoodAccessor": [[2, 2, 1, "", "add_neighborhoods_from_dataframe"], [2, 2, 1, "", "add_properties"], [2, 2, 1, "", "compute_neighborhoods_delaunay"], [2, 2, 1, "", "compute_neighborhoods_knn"], [2, 2, 1, "", "compute_neighborhoods_radius"], [2, 2, 1, "", "deselect"], [2, 2, 1, "", "set_neighborhood_colors"], [2, 2, 1, "", "set_neighborhood_name"]], "spatialproteomics.pl": [[13, 0, 0, "-", "plot"]], "spatialproteomics.pl.plot": [[13, 1, 1, "", "PlotAccessor"]], "spatialproteomics.pl.plot.PlotAccessor": [[13, 2, 1, "", "add_box"], [13, 2, 1, "", "annotate"], [13, 2, 1, "", "autocrop"], [13, 2, 1, "", "colorize"], [13, 2, 1, "", "imshow"], [13, 2, 1, "", "render_labels"], [13, 2, 1, "", "render_neighborhoods"], [13, 2, 1, "", "render_segmentation"], [13, 2, 1, "", "scatter"], [13, 2, 1, "", "scatter_labels"], [13, 2, 1, "", "show"]], "spatialproteomics.pp": [[14, 0, 0, "-", "preprocessing"]], "spatialproteomics.pp.preprocessing": [[14, 1, 1, "", "PreprocessingAccessor"]], "spatialproteomics.pp.preprocessing.PreprocessingAccessor": [[14, 2, 1, "", "add_channel"], [14, 2, 1, "", "add_feature"], [14, 2, 1, "", "add_layer"], [14, 2, 1, "", "add_obs_from_dataframe"], [14, 2, 1, "", "add_observations"], [14, 2, 1, "", "add_quantification"], [14, 2, 1, "", "add_quantification_from_dataframe"], [14, 2, 1, "", "add_segmentation"], [14, 2, 1, "", "apply"], [14, 2, 1, "", "convert_to_8bit"], [14, 2, 1, "", "downsample"], [14, 2, 1, "", "drop_layers"], [14, 2, 1, "", "filter_by_obs"], [14, 2, 1, "", "get_bbox"], [14, 2, 1, "", "get_channels"], [14, 2, 1, "", "get_disconnected_cell"], [14, 2, 1, "", "get_layer_as_df"], [14, 2, 1, "", "grow_cells"], [14, 2, 1, "", "mask_cells"], [14, 2, 1, "", "mask_region"], [14, 2, 1, "", "merge_segmentation"], [14, 2, 1, "", "normalize"], [14, 2, 1, "", "rescale"], [14, 2, 1, "", "threshold"], [14, 2, 1, "", "transform_expression_matrix"]], "spatialproteomics.tl": [[15, 0, 0, "-", "tool"]], "spatialproteomics.tl.tool": [[15, 1, 1, "", "ToolAccessor"]], "spatialproteomics.tl.tool.ToolAccessor": [[15, 2, 1, "", "astir"], [15, 2, 1, "", "cellpose"], [15, 2, 1, "", "convert_to_anndata"], [15, 2, 1, "", "convert_to_spatialdata"], [15, 2, 1, "", "mesmer"], [15, 2, 1, "", "stardist"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"]}, "titleterms": {"welcom": 0, "document": 0, "spatialproteom": [0, 3, 5], "content": 0, "tutori": 0, "indic": 0, "tabl": [0, 8], "The": [1, 2, 13, 14, 15], "label": [1, 10, 12], "la": 1, "accessor": [1, 2, 13, 14, 15], "neighborhood": [2, 9, 10, 12], "nh": 2, "interact": [3, 7], "remov": 3, "artifact": 3, "load": 3, "imag": [3, 4, 5, 6], "from": 3, "zarr": [3, 8], "file": 3, "draw": 3, "healthi": 3, "region": [3, 10], "us": 3, "tissuetag": 3, "put": 3, "mask": [3, 10], "object": 3, "set": 3, "everi": 3, "pixel": 3, "intens": [3, 10], "0": 3, "cell": [3, 4, 5, 10, 11], "type": [4, 5], "predict": [4, 5], "process": [4, 5, 6], "argmax": 4, "astir": 4, "marker": 4, "binar": 4, "exampl": 5, "workflow": 5, "1": 5, "get": 5, "start": 5, "2": 5, "3": 5, "segment": [5, 10, 11], "4": 5, "quantifi": 5, "protein": 5, "express": 5, "per": 5, "5": 5, "6": 5, "plot": [5, 10, 13], "interoper": 8, "import": 8, "data": [8, 12], "export": 8, "csv": 8, "anndata": 8, "spatialdata": 8, "analysi": 9, "imagecontain": 9, "custom": 9, "comparison": 9, "differ": 9, "method": 9, "channel": [10, 11, 12], "render": 10, "ob": 10, "annot": 10, "expert": 10, "whole": 11, "cellpos": 11, "mesmer": 11, "nuclear": 11, "stardist": 11, "multipl": 11, "subselect": 12, "slice": 12, "spatial": 12, "coordin": 12, "pl": 13, "preprocess": 14, "pp": 14, "tool": 15, "tl": 15}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "nbsphinx": 4, "sphinx": 56}})