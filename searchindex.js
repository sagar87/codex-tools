Search.setIndex({"docnames": ["index", "label", "notebooks/CellTypePrediction", "notebooks/ExampleWorkflow", "notebooks/ImageProcessing", "notebooks/Interoperability", "notebooks/Plotting", "notebooks/Segmentation", "notebooks/Slicing", "plot", "preprocessing", "tool"], "filenames": ["index.rst", "label.rst", "notebooks/CellTypePrediction.ipynb", "notebooks/ExampleWorkflow.ipynb", "notebooks/ImageProcessing.ipynb", "notebooks/Interoperability.ipynb", "notebooks/Plotting.ipynb", "notebooks/Segmentation.ipynb", "notebooks/Slicing.ipynb", "plot.rst", "preprocessing.rst", "tool.rst"], "titles": ["Welcome to the documentation of spatialproteomics!", "The label (<code class=\"code docutils literal notranslate\"><span class=\"pre\">la</span></code>) accessor", "Cell Type Prediction", "Example Workflow with spatialproteomics", "Image Processing", "Interoparability", "Plotting", "Segmentation", "Subselecting Data", "The plot (<code class=\"code docutils literal notranslate\"><span class=\"pre\">pl</span></code>) accessor", "The preprocessing (<code class=\"code docutils literal notranslate\"><span class=\"pre\">pp</span></code>) accessor", "The tool (<code class=\"code docutils literal notranslate\"><span class=\"pre\">tl</span></code>) accessor"], "terms": {"The": [0, 2, 3, 4, 5, 6, 7, 8], "preprocess": [0, 2, 3, 4], "pp": [0, 2, 3, 4, 5, 6, 7, 8, 9], "accessor": [0, 6, 8], "label": [0, 2, 3, 4, 5, 7, 9, 10], "la": [0, 2, 3, 6, 7, 8, 9], "plot": [0, 2, 4, 5, 7, 10], "pl": [0, 2, 3, 4, 6, 7], "tool": [0, 3], "tl": [0, 2, 3, 6, 7, 9], "exampl": [0, 2, 4, 5, 6, 7, 9, 10, 11], "workflow": [0, 5], "1": [0, 2, 4, 5, 6, 7, 8, 9, 10, 11], "get": [0, 2, 4, 6, 7, 8, 9, 10], "start": [0, 6, 7, 8, 10], "2": [0, 2, 4, 5, 6, 7, 8, 9, 10, 11], "imag": [0, 5, 6, 7, 8, 9, 10, 11], "process": [0, 1, 7, 10], "3": [0, 2, 4, 5, 6, 7, 8, 11], "cell": [0, 1, 4, 5, 8, 9, 10, 11], "segment": [0, 1, 2, 5, 9, 10, 11], "4": [0, 2, 4, 5, 6, 7, 8, 11], "quantifi": [0, 10], "protein": 0, "express": [0, 2, 5, 6, 10, 11], "per": 0, "5": [0, 2, 4, 5, 6, 7, 8, 10, 11], "type": [0, 1, 5, 6, 7, 8, 9, 10, 11], "predict": [0, 1, 6, 7, 11], "6": [0, 2, 4, 5, 6, 7, 8], "subselect": [0, 7], "data": [0, 1, 2, 3, 4, 6, 7, 9, 10, 11], "slice": [0, 1, 6, 10], "channel": [0, 1, 2, 3, 4, 5, 9, 10, 11], "spatial": [0, 5], "coordin": [0, 2, 3, 4, 5, 6, 7, 9, 10], "whole": 0, "cellpos": [0, 3, 6, 9, 10, 11], "mesmer": [0, 11], "nuclear": [0, 3, 11], "stardist": [0, 11], "multipl": [0, 3, 4, 6, 8, 9, 10], "intens": [0, 1, 2, 3, 4, 9, 10, 11], "render": [0, 9], "mask": [0, 1, 3, 7, 9, 10, 11], "ob": [0, 2, 5, 7, 9, 10, 11], "annot": [0, 1, 2, 9, 10], "region": [0, 5], "expert": 0, "argmax": [0, 1, 3, 4], "astir": [0, 9, 11], "marker": [0, 1, 3, 4, 6, 7, 9, 11], "binar": [0, 1, 6], "interopar": 0, "import": [0, 2, 3, 4, 6, 7, 8], "export": [0, 2], "zarr": [0, 2, 4, 6, 7, 8], "csv": 0, "anndata": [0, 11], "spatialdata": [0, 1, 11], "index": [0, 3, 4, 7, 8, 10], "modul": [0, 3, 4, 6, 7], "search": 0, "page": 0, "provid": [1, 4, 6, 7, 9, 10, 11], "sever": [1, 3, 9, 10], "function": [1, 2, 3, 4, 6, 7, 9, 10, 11], "associ": [1, 2], "gate": 1, "class": [1, 5, 9, 10, 11], "spatialproteom": [1, 2, 4, 5, 6, 7, 8, 9, 10, 11], "labelaccessor": 1, "xarray_obj": [1, 9, 10, 11], "add": [1, 7, 9, 10, 11], "phenotyp": 1, "add_label_properti": 1, "arrai": [1, 3, 4, 5, 7, 10], "union": [1, 9, 10], "ndarrai": [1, 5, 10], "list": [1, 2, 5, 8, 9, 10, 11], "prop": [1, 2, 3, 4, 5, 6, 7, 8, 10], "str": [1, 9, 10, 11], "properti": [1, 2, 3, 10], "each": [1, 3, 6, 7, 9, 10, 11], "uniqu": [1, 9], "thi": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "method": [1, 2, 3, 4, 6, 7, 9, 10, 11], "specifi": [1, 6, 9, 10, 11], "object": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "valu": [1, 2, 3, 4, 6, 7, 9, 10, 11], "ar": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "taken": 1, "from": [1, 2, 3, 4, 5, 7, 9, 10, 11], "argument": [1, 2, 6, 7, 9, 10, 11], "assign": [1, 2, 3, 6, 10, 11], "correspond": [1, 4, 6, 10, 11], "paramet": [1, 4, 7, 9, 10, 11], "numpi": [1, 4, 10], "an": [1, 3, 4, 5, 6, 7, 9, 10, 11], "contain": [1, 3, 6, 7, 9, 10, 11], "name": [1, 3, 7, 8, 10, 11], "ad": [1, 2, 3, 6, 7, 9, 10, 11], "return": [1, 3, 4, 9, 10, 11], "updat": [1, 9, 10], "ani": [1, 3, 4, 6, 7], "note": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "ensur": [1, 3], "convert": [1, 2, 7, 10, 11], "It": [1, 3, 5, 6, 7, 10], "creat": [1, 2, 3, 5, 6, 9, 11], "dataarrai": [1, 10, 11], "da": 1, "given": [1, 2, 10], "coord": [1, 5], "merg": [1, 7, 9, 10], "If": [1, 2, 3, 5, 6, 7, 9, 10, 11], "alreadi": [1, 5, 7, 10, 11], "exist": [1, 2, 3, 4, 5, 10], "new": [1, 3, 9, 10], "add_label_typ": 1, "color": [1, 2, 3, 4, 6, 7, 9, 10], "w": [1, 9], "dataset": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "us": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "identifi": 1, "categor": [1, 6, 9], "option": [1, 2, 4, 5, 6, 8, 9, 10, 11], "code": [1, 3, 5, 6, 7], "repres": [1, 9, 10], "visual": [1, 2, 3, 6], "default": [1, 3, 6, 7, 9, 10, 11], "white": [1, 6, 9], "newli": 1, "xr": [1, 2, 4, 5, 6, 7, 8, 9, 10, 11], "rais": [1, 9, 10, 11], "valueerror": [1, 10, 11], "observ": [1, 2, 3, 4, 6, 7, 9, 10, 11], "tabl": [1, 6, 9, 10], "found": [1, 2, 5, 6, 7, 9, 10, 11], "check": [1, 3, 6, 7], "doe": [1, 4, 5, 7, 10, 11], "deselect": [1, 8], "indic": [1, 10, 11], "specif": [1, 3, 6, 8, 9], "effect": 1, "remov": [1, 2, 3, 5, 6, 7, 10], "them": [1, 2, 6, 10], "select": [1, 6, 7, 8, 9, 10], "can": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "perform": [1, 3, 4, 6, 7, 10, 11], "tupl": [1, 10], "individu": [1, 9], "integ": [1, 2, 9], "int": [1, 9, 10, 11], "which": [1, 2, 3, 4, 5, 6, 7, 9, 10], "predict_cell_types_argmax": [1, 2, 3, 9], "marker_dict": [1, 3, 11], "dict": [1, 9, 10, 11], "kei": [1, 2, 5, 8, 9, 10, 11], "_intens": [1, 2, 3, 10, 11], "overwrite_existing_label": [1, 2], "bool": [1, 9, 10, 11], "fals": [1, 2, 3, 6, 7, 9, 10, 11], "cell_col": [1, 10], "label_col": [1, 10], "base": [1, 3, 4, 10], "classif": 1, "A": [1, 9, 10, 11], "dictionari": [1, 2, 3, 9, 10, 11], "map": [1, 3, 9, 10, 11], "quantif": [1, 2, 10], "layer": [1, 3, 5, 9, 10, 11], "whether": [1, 9, 10, 11], "overwrit": 1, "column": [1, 2, 5, 6, 10, 11], "store": [1, 2, 3, 5, 9, 10, 11], "id": [1, 5, 9, 11], "output": 1, "datafram": [1, 10, 11], "spatial_data": 1, "assertionerror": [1, 9, 10, 11], "present": [1, 9, 11], "remove_label_typ": 1, "cell_typ": [1, 2, 11], "s": [1, 3, 4, 5, 6, 7, 9, 10], "unlabel": 1, "categori": 1, "among": 1, "first": [1, 2, 3, 6, 9, 10], "set": [1, 2, 3, 4, 6, 7, 10], "set_label_color": [1, 2, 3, 6, 7], "either": [1, 4, 7, 9, 10], "whose": [1, 2], "none": [1, 5, 9, 10, 11], "its": [1, 3], "intern": 1, "set_label_nam": 1, "threshold_label": [1, 2, 6], "threshold_dict": [1, 2], "layer_kei": [1, 2, 6, 9, 10], "binaris": 1, "threshold": [1, 2, 3, 4, 7, 10, 11], "onli": [1, 2, 3, 5, 6, 7, 9, 10], "appli": [1, 2, 3, 4, 10, 11], "binari": 1, "featur": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], "_percentage_positive_intens": [1, 5], "comput": [1, 4], "compar": 1, "There": [2, 3, 7], "differ": [2, 4, 6, 7], "wai": [2, 3, 4, 5, 10], "e": [2, 4, 6, 7, 9, 10, 11], "g": [2, 4, 6, 7, 9, 10, 11], "follow": [2, 3, 4, 7], "notebook": [2, 3, 4, 5], "demonstr": [2, 4], "some": [2, 3, 4, 5, 6, 7, 9, 10], "common": 2, "subtyp": 2, "reload_ext": [2, 4, 5, 6, 7], "autoreload": [2, 3, 4, 5, 6, 7], "sp": [2, 3, 5], "panda": [2, 5, 7, 8, 10], "pd": [2, 5, 7, 8, 10], "matplotlib": [2, 3, 4, 6, 7, 9], "pyplot": [2, 3, 4, 6, 7], "plt": [2, 3, 4, 6, 7], "xarrai": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "scipi": [2, 3, 4, 5, 6, 7, 8], "signal": [2, 3, 4], "medfilt2d": [2, 3, 4], "set_opt": [2, 4, 5, 6, 8], "display_styl": [2, 4, 5, 6, 8], "text": [2, 4, 5, 6, 8, 9], "lt": [2, 3, 4, 5, 6, 7, 8], "core": [2, 4, 5, 6, 8], "0x7f12bb3ab310": 2, "gt": [2, 3, 4, 5, 6, 7, 8], "ds": [2, 4, 5, 6, 7, 8, 9], "load_dataset": [2, 4, 5, 6, 7, 8], "bnhl_166_4_i2_lk": [2, 4, 6, 8], "_properti": [2, 3, 4, 6, 7], "_label": [2, 3, 4, 5, 6, 7, 8, 10], "drop_lay": [2, 4, 6, 7, 10], "_arcsinh_mean": [2, 4, 5, 6, 8], "_arcsinh_sum": [2, 4, 5, 6, 8], "_raw_mean": [2, 4, 5, 6, 8], "_raw_sum": [2, 4, 5, 6, 8], "opt": [2, 3, 4, 6, 7], "conda": [2, 3, 4, 5, 6, 7, 8], "lib": [2, 3, 4, 5, 6, 7, 8], "python3": [2, 3, 4, 5, 6, 7, 8], "10": [2, 3, 4, 6, 7, 8, 9], "site": [2, 3, 4, 5, 6, 7, 8], "packag": [2, 3, 4, 5, 6, 7, 8, 11], "backend": [2, 4, 5, 6, 7, 8], "plugin": [2, 4, 5, 6, 7, 8], "py": [2, 3, 4, 5, 6, 7, 8], "159": [2, 4, 5, 6, 7, 8], "runtimewarn": [2, 4, 5, 6, 7, 8], "39": [2, 3, 4, 5, 6, 7, 8], "fail": [2, 4, 5, 6, 7, 8], "while": [2, 3, 4, 5, 6, 7, 8], "guess": [2, 4, 5, 6, 7, 8], "warn": [2, 3, 4, 5, 6, 7, 8], "f": [2, 4, 5, 6, 7, 8], "34": [2, 3, 4, 5, 6, 7, 8], "engin": [2, 4, 5, 6, 7, 8], "r": [2, 4, 5, 6, 7, 8], "percentil": [2, 3, 10], "median": [2, 3, 4], "filter": [2, 3, 4, 10], "pax5": [2, 4, 6, 8, 9, 11], "cd3": [2, 4, 5, 6, 8, 9, 11], "cd11b": [2, 11], "cd11c": [2, 6, 7], "cd15": 2, "cd68": [2, 5, 7, 8], "podoplanin": 2, "cd31": [2, 5], "cd34": 2, "cd90": [2, 8], "cd56": 2, "cd4": [2, 3, 6, 8], "cd8": [2, 3, 5, 6, 8], "quantil": [2, 4, 10], "0": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "8": [2, 3, 4, 5, 6, 7, 8, 10], "95": [2, 4, 7], "e6194b": [2, 9], "3cb44b": [2, 9], "ffe119": [2, 9], "4363d8": [2, 9], "ffd8b1": [2, 9], "f58231": [2, 9], "911eb4": [2, 9], "fffac8": [2, 9], "469990": [2, 9], "fabed4": [2, 9], "9a6324": [2, 9], "channels_celltyp": 2, "colors_celltyp": 2, "recomput": 2, "ds_process": 2, "kernel_s": [2, 3, 4], "add_quantif": [2, 3, 10], "func": [2, 3, 4, 10], "mean_intens": [2, 3], "transform_expression_matrix": [2, 3, 10], "arcsinh": [2, 3, 10], "skimag": [2, 3, 4, 10], "measur": [2, 3, 10], "_regionprop": [2, 3], "317": [2, 3], "userwarn": [2, 3], "extra": [2, 3], "shadow": [2, 3], "inaccess": [2, 3], "consid": [2, 3], "renam": [2, 3], "msg": [2, 3], "next": [2, 3, 7], "one": [2, 3, 4, 7], "anoth": 2, "raw": [2, 4], "vs": 2, "fig": [2, 3, 4, 6, 7], "ax": [2, 3, 4, 6, 7, 9], "subplot": [2, 3, 4, 6, 7], "figsiz": [2, 3, 4, 6, 7], "_": [2, 3, 4, 6, 7], "show": [2, 3, 4, 5, 6, 7, 9], "set_titl": [2, 4, 7], "simplest": 2, "deriv": [2, 4, 10], "defin": 2, "between": 2, "most": 2, "highli": [2, 3], "i": [2, 4, 10], "take": [2, 3, 7, 10], "what": [2, 3, 6, 7], "below": [2, 3, 4, 6, 7, 10], "ct_marker_dict": 2, "b": [2, 4, 5, 6, 8, 11], "t": [2, 3, 5, 6, 7, 8, 9, 11], "myeloid": [2, 11], "dendrit": [2, 7], "granulo": 2, "macro": [2, 8], "stroma": [2, 8], "pdpn": 2, "nk": 2, "7": [2, 3, 4, 5, 6, 7, 8], "argmai": 2, "ds_with_ct_predict": 2, "true": [2, 3, 6, 7, 9, 10, 11], "match": [2, 7, 10], "skip": 2, "ct": 2, "render_imag": [2, 3, 6, 7, 9], "render_label": [2, 3, 6, 7, 9], "9": [2, 3, 4, 5, 6, 7, 8, 9], "how": [2, 3, 5, 6, 7], "readm": 2, "wa": [2, 7, 11], "21": [2, 3, 6, 7], "autocrop": [2, 6, 9], "pad": [2, 9], "100": [2, 3, 4, 7], "dapi": [2, 3, 4, 5, 6, 7, 8, 10, 11], "render_segment": [2, 3, 6, 7, 9], "x": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "y": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "tick": 2, "set_xtick": 2, "set_ytick": 2, "titl": 2, "tight_layout": [2, 6, 7], "veri": [2, 3, 6], "easi": [2, 3, 5, 6, 8], "howev": [2, 4, 7], "sinc": [2, 3, 7], "get_ob": 2, "celltypes_to_str": [2, 10], "allow": [2, 3, 5, 6, 7, 8, 9], "you": [2, 3, 4, 5, 6, 7, 9, 10], "more": [2, 3, 4, 6, 7, 9], "readabl": 2, "format": [2, 4, 5, 6, 9], "get_layer_as_df": [2, 3, 5, 6, 7, 10], "human": 2, "frame": 2, "_ob": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "_original_": [2, 4, 5, 6, 8], "centroid": [2, 3, 4, 5, 6, 7, 8, 10, 11], "613": [2, 4, 6, 8], "329787": 2, "768": [2, 4, 5, 6, 8], "420213": 2, "769": 2, "098446": 2, "707": 2, "544041": 2, "774": 2, "528409": 2, "644": 2, "284091": 2, "775": [2, 3], "902878": 2, "592": 2, "744604": 2, "668": 2, "844749": 2, "729": 2, "310502": 2, "12556": [2, 4, 6, 8], "2340": 2, "362319": 2, "1846": 2, "492754": 2, "12557": [2, 4, 6, 8], "2216": 2, "324138": 2, "2296": 2, "089655": 2, "12558": [2, 4, 5, 6, 8], "2265": 2, "910853": 2, "2231": 2, "992248": 2, "12559": [2, 4, 5, 6, 8], "2281": 2, "480687": 2, "2218": 2, "424893": 2, "12560": [2, 4, 5, 6, 8], "2249": 2, "069444": 2, "2236": 2, "564815": 2, "row": [2, 5], "also": [2, 3, 4, 5, 6, 7, 8, 10, 11], "involv": 2, "here": [2, 3, 4, 6, 7], "quick": [2, 6], "could": [2, 3, 6, 7], "previou": 2, "11": [2, 3, 4, 6, 7, 8], "dimens": [2, 3, 4, 5, 6, 7, 8, 9, 11], "3000": [2, 4, 5, 6, 8], "13": [2, 4, 6, 7, 8], "int64": [2, 3, 4, 5, 6, 7, 8], "u11": [2, 4, 5, 6, 7, 8], "x27": [2, 3, 4, 5, 6, 7, 8], "u10": [2, 3, 4, 5, 6, 7, 8], "u6": [2, 3, 4, 5, 6, 7, 8], "_color": [2, 3, 4, 5, 6, 7, 8], "_name": [2, 3, 4, 5, 6, 7, 8], "2994": [2, 4, 6, 8], "2995": [2, 4, 6, 8], "2996": [2, 4, 5, 6, 8], "2997": [2, 4, 5, 6, 8], "2998": [2, 4, 5, 6, 8], "2999": [2, 4, 5, 6, 8], "variabl": [2, 3, 4, 5, 6, 7, 8, 9], "float64": [2, 3, 4, 5, 6, 7, 8], "_segment": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "c3": [2, 4, 6, 8, 9], "_imag": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "413": 2, "3745": 2, "01481": 2, "12": [2, 3, 4, 6, 7, 8, 9, 11], "minor": 2, "reform": 2, "seg": 2, "ds_for_astir": 2, "add_segment": [2, 3, 7, 10], "249e": [2, 6], "03": [2, 3, 4, 5, 6, 7, 8], "237e": [2, 5, 6], "15": [2, 3, 6, 7, 8], "slightli": 2, "structur": 2, "ds_with_ct_predictions_astir": 2, "uint8": [2, 4, 5, 6, 7, 8, 11], "requir": [2, 3, 6, 7, 9, 11], "work": [2, 3, 4, 5, 6, 7], "properli": 2, "dtype": [2, 3, 4, 5, 7], "oper": [2, 3, 11], "mai": [2, 4, 7, 10], "ignor": [2, 10], "train": [2, 3, 6, 7], "restart": 2, "44": [2, 3, 5, 7], "epoch": [2, 11], "current": [2, 3, 6, 7, 9], "loss": 2, "42378": 2, "42": [2, 3, 7, 11], "44151": 2, "24": [2, 6, 7], "44696": 2, "30": [2, 3, 4, 6, 7], "42463": 2, "28": [2, 5, 6, 7], "43272": 2, "final": [2, 3, 6, 8], "20": [2, 3, 4, 6, 7, 8], "500": [2, 3, 4, 6, 11], "51": [2, 7, 8], "72852": 2, "16": [2, 3, 6, 7, 8, 9], "custom": [2, 4, 6, 9], "back": [2, 7], "other": [2, 3, 6, 7], "darkgrai": 2, "add_observ": [2, 3, 6, 7, 10], "17": [2, 3, 6, 7, 8], "18": [2, 3, 6, 7], "For": [2, 3, 5, 6, 9], "we": [2, 3, 4, 5, 6, 7, 8], "want": [2, 3, 5, 6, 7, 10], "posit": [2, 3, 7], "neg": 2, "achiev": 2, "19": [2, 3, 6, 7], "percentage_posit": 2, "key_ad": [2, 7, 10, 11], "_percentage_posit": 2, "percentag": 2, "ds_with_binar": 2, "red": [2, 3, 4, 6, 9], "green": [2, 3, 9], "blue": [2, 3, 6], "gold": [2, 4, 6, 7], "scatter": [2, 6, 9], "pax5_binar": 2, "size": [2, 3, 6, 7, 9, 11], "palett": [2, 6, 9], "grai": [2, 6], "cd3_binar": [2, 5], "cd4_binar": [2, 6], "cd8_binar": 2, "just": [2, 4, 10], "subset": [2, 3, 6, 7, 10], "singl": [2, 4, 5, 7, 9, 10], "low": [2, 3], "onc": [2, 5, 9], "all": [2, 3, 6, 7, 8, 9, 10, 11], "illustr": [2, 4, 6], "purpos": [2, 3], "have": [2, 3, 4, 5, 6, 7, 9, 10], "relax": 2, "80": [2, 7], "previous": 2, "choos": 2, "concept": [2, 4], "when": [2, 7, 8, 9, 10], "22": [2, 3, 6, 7], "ds_with_binarization_cd4": [2, 6], "second": [2, 4, 6], "look": [2, 3, 4, 6, 7], "ds_with_binarization_cd4_t": 2, "23": [2, 3, 6, 7], "legend_label": [2, 7, 9], "cd4_t_binar": 2, "welcom": 3, "In": [3, 4, 5, 6, 7], "go": 3, "through": 3, "step": [3, 4], "read": [3, 5], "multiplex": 3, "basic": [3, 4], "boost": [3, 4], "nois": [3, 4], "ratio": [3, 4], "simpl": [3, 6], "techniqu": 3, "result": [3, 5, 6, 7, 11], "load_ext": 3, "io": 3, "imread": 3, "befor": [3, 7, 9], "need": [3, 5, 7, 10], "done": [3, 5, 7, 10], "tifffil": 3, "librari": 3, "displai": [3, 6, 9], "shape": [3, 5, 6, 10], "input": [3, 10], "tiff": [3, 5], "see": [3, 6, 7, 8, 10], "our": [3, 4, 6, 7, 8], "ha": [3, 6, 10, 11], "pixel": [3, 4, 7, 9, 10, 11], "within": [3, 6, 9], "To": [3, 4, 6, 7, 8, 10], "do": [3, 5, 6, 7, 8], "feed": 3, "sp_object": 3, "load_image_data": 3, "channel_coord": 3, "foxp3": [3, 5], "bcl6": 3, "simpli": [3, 5, 6, 7, 8], "inspect": 3, "call": [3, 4, 6, 7, 9], "jupyt": 3, "u5": 3, "492": 3, "493": 3, "494": 3, "495": 3, "496": 3, "497": 3, "498": 3, "499": 3, "uint16": [3, 7], "10816": 3, "12359": 3, "14504": 3, "10965": 3, "147": [3, 7, 8], "129": [3, 7], "149": [3, 7, 8], "59xarrai": 3, "datasetdimens": [3, 7], "5y": 3, "500x": 3, "500coordin": 3, "int640": [3, 7], "499arrai": 3, "uint1610816": 3, "59arrai": 3, "8317": 3, "8919": 3, "8115": 3, "10863": 3, "10951": 3, "11972": 3, "8847": 3, "7674": 3, "7324": 3, "11379": 3, "8648": 3, "8514": 3, "6802": 3, "5289": 3, "5650": 3, "9458": 3, "5985": 3, "2289": 3, "4701": 3, "2877": 3, "884": 3, "11675": 3, "5429": 3, "2905": 3, "4871": 3, "3151": 3, "1291": [3, 7], "7802": 3, "3931": 3, "4377": 3, "4068": 3, "3155": 3, "1503": 3, "1462": 3, "172": [3, 7], "35": [3, 7, 8], "1210": 3, "735": 3, "507": 3, "1187": 3, "181": [3, 7], "98": [3, 7, 8], "1513": 3, "506": 3, "316": 3, "1303": 3, "188": [3, 7], "247": [3, 7], "1525": 3, "441": 3, "193": [3, 7], "346": [3, 4, 5, 6, 8], "795": 3, "2618": 3, "1174": 3, "815": 3, "1095": 3, "1208": 3, "1954": 3, "2883": 3, "2062": 3, "1266": 3, "3741": 3, "3775": 3, "2779": 3, "3073": 3, "1449": 3, "973": 3, "8356": 3, "1092": 3, "66": [3, 5, 7], "3192": 3, "390": 3, "314": 3, "244": [3, 7], "3710": 3, "1156": 3, "957": 3, "959": 3, "82": [3, 7], "14": [3, 4, 6, 7, 8], "746": 3, "3782": 3, "27": [3, 6, 7], "567": 3, "3375": 3, "10237": 3, "88": [3, 7], "3861": 3, "6956": 3, "9181": 3, "61": [3, 7], "81": [3, 7], "280": [3, 6, 7], "248": [3, 7], "87": [3, 7], "68": [3, 5, 7], "59": [3, 7], "37": [3, 7], "398": 3, "235": [3, 7], "117": [3, 7], "43": [3, 5, 6, 7], "367": 3, "163": [3, 7], "138": [3, 7], "168": [3, 7, 8], "125": [3, 7], "50": [3, 4, 6, 7, 8, 9], "45": [3, 7, 8], "137": [3, 7], "78": [3, 6, 7], "60": [3, 7], "53": [3, 7, 8], "213": [3, 7], "92": [3, 7], "293": [3, 7], "135": [3, 7], "219": [3, 7], "372": 3, "281": [3, 7], "134": [3, 7], "395": 3, "270": [3, 7], "365": 3, "397": 3, "218": [3, 7], "296": [3, 7], "275": [3, 7], "297": 3, "234": [3, 7], "114": [3, 7], "310": 3, "216": [3, 7], "269": [3, 7], "207": [3, 7], "205": [3, 7], "222": [3, 7], "195": [3, 7], "305": 3, "233": [3, 7], "332": 3, "channelspandasindexpandasindex": [3, 7], "ypandasindexpandasindex": [3, 7], "int64index": [3, 7], "490": 3, "491": 3, "length": [3, 7], "xpandasindexpandasindex": [3, 7], "attribut": [3, 7], "fluoresc": 3, "frequent": 3, "suffer": 3, "poor": 3, "allevi": 3, "problem": [3, 7], "out": [3, 4, 5], "therebi": 3, "contrast": 3, "autom": [3, 4], "determin": [3, 9], "difficult": 3, "come": 3, "up": [3, 7], "case": [3, 5, 6, 7], "therefor": 3, "manual": [3, 4, 7], "let": [3, 4, 5, 6, 7], "form": 3, "bit": 3, "much": [3, 7], "feel": 3, "promis": [3, 4], "about": 3, "good": [3, 4], "make": [3, 6, 7, 8], "clearer": [3, 6], "codeblock": 3, "so": [3, 7, 9], "everi": [3, 4, 10], "2d": [3, 10], "kernel": 3, "smooth": [3, 4], "great": 3, "univers": [3, 7], "hand": 3, "membran": [3, 7, 11], "nuclei": [3, 7], "extend": 3, "two": [3, 6, 7, 10, 11], "direct": [3, 7], "implement": 3, "neither": [3, 6], "torch": [3, 6, 7], "cuda": [3, 6, 7], "nor": [3, 6], "mp": [3, 6], "version": [3, 6, 7], "instal": [3, 6, 7, 11], "cpu": [3, 6, 7], "cyto3": [3, 6, 7, 11], "model": [3, 6, 7, 11], "load": [3, 4, 5, 6, 7, 8], "home": [3, 5, 6, 7, 8], "meyerben": [3, 5, 6, 7], "resnet_torch": [3, 6, 7], "futurewarn": [3, 6, 7], "weights_onli": [3, 6, 7], "pickl": [3, 6, 7], "implicitli": [3, 6, 7], "possibl": [3, 6, 7, 8, 9], "construct": [3, 6, 7], "malici": [3, 6, 7], "execut": [3, 6, 7], "arbitrari": [3, 6, 7], "dure": [3, 6, 7], "unpickl": [3, 6, 7], "http": [3, 6, 7], "github": [3, 6, 7], "com": [3, 6, 7], "pytorch": [3, 6, 7], "blob": [3, 6, 7], "main": [3, 6, 7], "secur": [3, 6, 7], "md": [3, 6, 7], "untrust": [3, 6, 7], "detail": [3, 6, 7], "futur": [3, 6, 7], "releas": [3, 6, 7], "flip": [3, 6, 7], "limit": [3, 6, 7], "longer": [3, 6, 7], "via": [3, 6, 7, 9], "mode": [3, 6, 7, 9, 10], "unless": [3, 6, 7], "thei": [3, 6, 7, 10, 11], "explicitli": [3, 6, 7], "allowlist": [3, 6, 7], "user": [3, 6, 7], "serial": [3, 6, 7], "add_safe_glob": [3, 6, 7], "recommend": [3, 6, 7], "where": [3, 4, 6, 7], "don": [3, 6, 7], "full": [3, 6, 7], "control": [3, 6, 7, 9], "file": [3, 5, 6, 7], "pleas": [3, 6, 7, 9], "open": [3, 6, 7], "issu": [3, 5, 6, 7], "relat": [3, 6, 7], "experiment": [3, 6, 7], "state_dict": [3, 6, 7], "filenam": [3, 6, 7], "map_loc": [3, 6, 7], "devic": [3, 6, 7], "diam_mean": [3, 6, 7], "000": [3, 6, 7], "roi": [3, 6, 7], "rescal": [3, 6, 7, 10], "estim": [3, 6, 7], "diamet": [3, 6, 7, 11], "32": [3, 7], "sec": [3, 6, 7], "90": [3, 7], "find": [3, 4, 6, 7], "total": [3, 4, 6, 7], "time": [3, 6, 7, 8], "26": [3, 5, 6, 7], "69": [3, 5, 7], "realiz": 3, "_cellpose_segment": [3, 6, 7, 11], "appear": [3, 4, 9], "anyth": [3, 11], "inform": [3, 10], "tell": [3, 6, 7], "should": [3, 4, 6, 7, 10], "treat": [3, 7], "now": [3, 7], "caus": 3, "downstream": [3, 5], "analysi": [3, 5], "gener": [3, 6], "after": [3, 4, 7, 9, 10, 11], "alwai": [3, 4, 6, 7], "afterward": 3, "reason": [3, 5], "later": [3, 5, 7, 8], "keep": [3, 7, 10], "track": 3, "thing": [3, 7], "like": [3, 5, 6], "etc": 3, "synchron": 3, "know": 3, "1335": 3, "1331": 3, "1332": 3, "1333": 3, "1334": 3, "602e": 3, "538": 3, "40": [3, 7], "262": [3, 7], "0xarrai": [3, 7], "500cell": 3, "1335featur": 3, "2coordin": [3, 7], "int641": [3, 7], "1335arrai": 3, "float640": 3, "69e": 3, "0arrai": [3, 7], "000e": 3, "00": [3, 7], "690e": 3, "476e": 3, "413e": 3, "555e": 3, "541e": 3, "389e": 3, "387e": 3, "031e": 3, "085e": 3, "168e": 3, "158e": 3, "801e": 3, "616e": 3, "116e": 3, "894e": 3, "890e": 3, "01": 3, "670e": 3, "420e": 3, "02": [3, 4, 5, 6, 8], "800e": 3, "900e": 3, "uint160": [3, 7], "float641": [3, 7], "474": 3, "53846154": 3, "88461538": 3, "47368421": 3, "56": [3, 4, 5, 6, 7, 8], "31578947": 3, "14285714": 3, "62": [3, 7], "71428571": 3, "13513514": 3, "289": [3, 7], "83783784": 3, "423": 3, "cellspandasindexpandasindex": [3, 7], "1326": 3, "1327": 3, "1328": 3, "1329": 3, "1330": 3, "featurespandasindexpandasindex": [3, 7], "over": [3, 6, 10], "exactli": [3, 6], "did": 3, "zoom": [3, 4], "littl": 3, "pictur": [3, 6], "200": [3, 7], "300": 3, "One": [3, 8], "sometim": [3, 6, 7], "small": [3, 7], "artifact": 3, "henc": 3, "too": 3, "big": 3, "addit": [3, 6, 9, 10, 11], "grow": [3, 6, 7, 10], "try": [3, 4, 7], "captur": [3, 7], "cytosol": 3, "distribut": [3, 6, 7], "area": [3, 4, 6, 7, 10], "df": [3, 5, 6, 10], "hist": [3, 6, 7], "bin": [3, 6, 7], "less": [3, 7], "than": [3, 6, 7, 9, 10], "150": [3, 7, 8], "filter_by_ob": [3, 7, 10], "lambda": [3, 7, 10, 11], "expand": [3, 10], "grow_cel": [3, 6, 7, 10], "iter": [3, 6, 10, 11], "recalcul": [3, 6, 7], "sensibl": 3, "transform": [3, 10], "been": 3, "proven": 3, "pretti": 3, "well": [3, 4, 5], "1320": 3, "1316": 3, "1317": 3, "1318": 3, "1319": 3, "85": [3, 7], "41": [3, 7], "422": 3, "025": 3, "431": 3, "26xarrai": 3, "1320featur": 3, "1320arrai": 3, "462": 3, "9arrai": 3, "46153846": 3, "73076923": 3, "166": [3, 7], "8021978": 3, "4625": 3, "202": [3, 7], "9875": 3, "71698113": 3, "290": [3, 7], "75471698": 3, "14864865": 3, "90540541": 3, "float648": 3, "524": 3, "9862": 3, "26arrai": 3, "02533989": 3, "4310775": 3, "52379938": 3, "4860095": 3, "74345457": 3, "86294729": 3, "99507279": 3, "92916089": 3, "6463534": 3, "67307389": 3, "94682454": 3, "77807688": 3, "07465591": 3, "23872049": 3, "71636523": 3, "00547159": 3, "43972698": 3, "71033224": 3, "00423785": 3, "50734018": 3, "52182503": 3, "97424798": 3, "69704542": 3, "38696719": 3, "22144918": 3, "98622367": 3, "26038737": 3, "1311": 3, "1312": 3, "1313": 3, "1314": 3, "1315": 3, "As": [3, 8], "introduc": 3, "beforehand": 3, "idea": [3, 4], "t_h": 3, "t_tox": 3, "t_reg": 3, "t_fh": 3, "b903aa": 3, "4prop": 3, "2channel": [3, 7], "3coordin": [3, 7], "4arrai": [3, 7], "d16100": 3, "ff8a9a": 3, "34362d": 3, "float644": 3, "labelspandasindexpandasindex": [3, 7], "propspandasindexpandasindex": [3, 7], "coupl": 3, "furthermor": 3, "yellow": 3, "And": 3, "immunofluoresc": 3, "question": 3, "exemplari": 4, "algorithm": [4, 11], "99": [4, 7, 10], "wherea": 4, "correctli": [4, 5], "0x7f890186f370": 4, "conveni": [4, 6], "focus": 4, "better": 4, "ds_single_channel": 4, "ikzf3": 4, "ds_multichannel": 4, "helio": [4, 5, 6, 8], "cd10": [4, 5, 6, 8], "cd79a": [4, 5, 6, 8], "ki": [4, 5, 6, 8], "67": [4, 5, 6, 7, 8], "111": [4, 5, 6, 7, 8], "391": [4, 6, 8], "324": [4, 6, 7, 8], "4174": [4, 5, 6, 8], "564": [4, 6, 8], "625": [4, 6, 8], "224": [4, 5, 6, 7, 8], "426": [4, 6, 8], "727": [4, 6, 8], "148": [4, 5, 6, 7, 8], "053e": [4, 5, 6, 8], "04": [4, 5, 6, 8], "885e": [4, 6, 8], "464": [4, 6, 8], "figur": [4, 6], "abov": 4, "seem": 4, "fairli": 4, "unspecif": 4, "bind": 4, "mean": 4, "zero": 4, "absolut": [4, 10], "rang": 4, "enumer": 4, "999": 4, "deepskyblu": [4, 6, 7], "medianfilt": 4, "reduc": 4, "further": [4, 6], "choic": 4, "With": [4, 6], "your": [4, 5, 6, 7], "multichannel": 4, "applic": [4, 11], "ndimag": 4, "gaussian_filt": 4, "def": 4, "multiply_arrai": 4, "arr": 4, "factor": [4, 9, 10, 11], "clip": [4, 10], "255": [4, 7], "astyp": [4, 5], "sigma": 4, "gaussian": 4, "variat": 4, "larg": [4, 11], "gradient": 4, "impli": 4, "rapid": 4, "fluctuat": 4, "restor": 4, "denoise_tv_chambol": 4, "view": 4, "1000": [4, 6, 7], "1500": [4, 6], "weight": [4, 7], "001": [4, 11], "cours": 4, "combin": [4, 5, 6], "variou": 4, "np": [4, 5, 10], "local": 4, "local_threshold_single_channel": 4, "im": [4, 9], "selem": 4, "morpholog": 4, "disk": [4, 5], "im_mean": 4, "rank": 4, "footprint": 4, "automat": 4, "approach": 4, "highest": 4, "rate": [4, 10, 11], "chang": 4, "find_optimal_threshold": 4, "min_k": 4, "max_k": 4, "arr_mean": 4, "k": [4, 7], "linspac": 4, "n_pix": 4, "empty_lik": 4, "len": 4, "sum": 4, "rough": 4, "dn_pix_dk2": 4, "diff": 4, "maxim": 4, "max_ind": 4, "k_opt": 4, "print": 4, "optim": 4, "8585858585858586": 4, "particular": 4, "instanc": [4, 11], "cutoff": 4, "best": 4, "certain": [4, 7, 9], "situat": 4, "os": 5, "shutil": 5, "0x7f265b472320": 5, "seen": 5, "read_from_spatialdata": 5, "spatialdata_exampl": 5, "image_kei": [5, 11], "raccoon": 5, "root_attr": 5, "multiscal": 5, "omero": 5, "coordinatetransform": 5, "scale": [5, 10, 11], "path": 5, "resolut": 5, "c": [5, 11], "1024": 5, "chunk": 5, "70": [5, 7, 10], "760": 5, "761": 5, "762": 5, "763": 5, "764": 5, "765": 5, "766": 5, "767": 5, "1018": 5, "1019": 5, "1020": 5, "1021": 5, "1022": 5, "1023": 5, "63": [5, 7], "64": [5, 7, 11], "65": [5, 7], "dask": 5, "chunksiz": 5, "meta": 5, "79": [5, 7], "402": 5, "46": [5, 7], "736": 5, "890": 5, "happi": 5, "easiest": 5, "support": [5, 9], "test": 5, "notic": [5, 7], "tmp": 5, "env": 5, "spatialproteomics_env": 5, "netcdf4": 5, "u14": 5, "cent": 5, "c8a1a1": 5, "line": 5, "run": [5, 7], "to_zarr": 5, "your_path": 5, "might": [5, 6, 7], "pars": 5, "known": 5, "hopefulli": 5, "fix": [5, 7], "soon": 5, "unicod": 5, "necessari": 5, "box": [5, 9, 10], "v": 5, "zarr_path": 5, "rmtree": 5, "zarrstor": 5, "0x7ffcc2566440": 5, "sai": [5, 6], "head": 5, "tcf7": 5, "tcf1": 5, "l1": 5, "bcl": 5, "cd69": 5, "perforin": 5, "cd19": 5, "cd45": 5, "cytokeratin": 5, "cd45ro": 5, "granyzm": 5, "111332": 5, "391040": 5, "532299": 5, "700792": 5, "000000": 5, "026824": 5, "029783": 5, "345229": 5, "018150": 5, "460342": 5, "595998": 5, "719421": 5, "714288": 5, "428276": 5, "528275": 5, "458260": 5, "804985": 5, "168321": 5, "395341": 5, "847262": 5, "002073": 5, "559274": 5, "294762": 5, "303109": 5, "642876": 5, "328594": 5, "799208": 5, "029083": 5, "426344": 5, "528429": 5, "380220": 5, "733945": 5, "666575": 5, "020150": 5, "066995": 5, "397469": 5, "013636": 5, "822320": 5, "412199": 5, "153628": 5, "763425": 5, "767838": 5, "036900": 5, "571746": 5, "727335": 5, "497415": 5, "987283": 5, "297533": 5, "607904": 5, "572571": 5, "003597": 5, "960472": 5, "004317": 5, "297740": 5, "242867": 5, "149749": 5, "583574": 5, "473159": 5, "804046": 5, "425201": 5, "427177": 5, "436378": 5, "120023": 5, "542808": 5, "928561": 5, "155537": 5, "463069": 5, "010959": 5, "872304": 5, "079369": 5, "005996": 5, "212105": 5, "894870": 5, "299642": 5, "743329": 5, "518868": 5, "011288": 5, "488958": 5, "to_csv": 5, "scanpi": 5, "interest": [5, 6, 7], "analys": 5, "tabular": 5, "put": 5, "matrix": [5, 6, 10, 11], "adata": [5, 11], "ext": 5, "convert_to_anndata": [5, 11], "expression_matrix_kei": [5, 11], "additional_lay": [5, 11], "arcsinh_sum": 5, "raw_mean": 5, "raw_sum": 5, "additional_un": [5, 11], "label_color": 5, "n_ob": 5, "n_var": 5, "un": [5, 11], "write": 5, "hdf5": 5, "h5ad": 5, "commonli": 5, "omic": 5, "power": 5, "54": [5, 7, 8], "spatialdata_object": 5, "convert_to_spatialdata": [5, 11], "info": 5, "transpos": 5, "spatialimag": 5, "cyx": 5, "yx": 5, "spatialdata_attr": 5, "system": 5, "global": 5, "element": [5, 9], "channels_metadata": 5, "1548": 5, "1452": 5, "parent": 5, "ome_zarr": 5, "reader": 5, "0x7fffc1abe670": 5, "varieti": 6, "enabl": [6, 10, 11], "0x7fef5ee8b2e0": 6, "capabl": 6, "pattern": 6, "avail": [6, 7, 9, 10], "shown": 6, "those": [6, 10], "orang": [6, 7], "overlai": [6, 8], "quickli": [6, 8], "accept": 6, "easili": 6, "modifi": [6, 9], "normal": [6, 9, 10, 11], "api": 6, "popul": 6, "By": 6, "legend": [6, 9], "disabl": 6, "legend_imag": [6, 9], "alter": 6, "ticklabel": 6, "snip": 6, "highlight": [6, 9], "empti": 6, "space": 6, "around": [6, 9], "tissu": [6, 9], "microarrai": 6, "xtick": 6, "ytick": 6, "retain": 6, "obtain": 6, "render_ob": 6, "cmap": 6, "plasma": 6, "imshow": [6, 9], "legend_ob": [6, 9], "concaten": [6, 7], "similar": [6, 9], "simultan": 6, "deactiv": 6, "boundari": [6, 9], "lie": 6, "rather": 6, "add_box": [6, 9], "1230": 6, "1480": 6, "640": 6, "840": [6, 8], "label_kwarg": [6, 9], "alpha": [6, 9], "gain": 6, "instead": [6, 7, 9, 10], "high": [6, 9], "level": [6, 7, 9], "wrapper": [6, 7, 9], "nuanc": 6, "adjust": 6, "few": 6, "consult": 6, "document": [6, 7], "scatterplot": 6, "instad": 6, "scatter_label": [6, 9], "continu": [6, 10], "ds_tmp": 6, "scatter_kw": [6, 9], "ylorrd": 6, "lastli": 6, "same": [6, 7, 8], "2000": [6, 11], "2500": 6, "25": [6, 7], "ds_multisegment": 6, "independ": [6, 7, 10, 11], "joint": [6, 7, 11], "channel_set": [6, 7, 11], "appropri": [6, 7], "36": [6, 7], "07": 6, "38": [6, 7], "segmentation_kwarg": [6, 9], "histogram": [6, 7], "29": [6, 7, 8], "sidenot": 6, "vornoi": 6, "diagram": 6, "distanc": 6, "describ": 7, "nucleu": 7, "segmentation_exampl": 7, "1300": 7, "301": 7, "na": 7, "atpas": 7, "1001": 7, "1002": 7, "1003": 7, "1004": 7, "1296": 7, "1297": 7, "1298": 7, "1299": 7, "86": 7, "83": 7, "75": [7, 8], "4xarrai": 7, "4y": 7, "301x": 7, "301coordin": 7, "int641000": 7, "1300arrai": 7, "uint886": 7, "52": [7, 8], "49": 7, "58": 7, "47": 7, "73": 7, "48": 7, "31": 7, "33": 7, "1005": 7, "1006": 7, "1007": 7, "1008": 7, "1009": 7, "1292": 7, "1293": 7, "1294": 7, "1295": 7, "relev": [7, 9], "refer": [7, 9], "ds_cellpos": 7, "91": 7, "97": 7, "2y": 7, "uint828": 7, "74": 7, "35arrai": 7, "330": 7, "old": 7, "extract": [7, 11], "325": 7, "326": 7, "327": 7, "328": 7, "329": 7, "005e": 7, "011e": 7, "003e": 7, "03xarrai": 7, "301cell": 7, "330featur": 7, "330arrai": 7, "03arrai": 7, "44486692": 7, "1011": 7, "45247148": 7, "18024691": 7, "1033": 7, "65185185": 7, "6344086": 7, "1051": 7, "02150538": 7, "13888889": 7, "1063": 7, "79166667": 7, "87784091": 7, "1070": 7, "73011364": 7, "68398268": 7, "1088": 7, "97841727": 7, "1103": 7, "46753247": 7, "1119": 7, "64935065": 7, "8343949": 7, "1132": 7, "65605096": 7, "52674897": 7, "1147": 7, "69958848": 7, "02491103": 7, "1165": 7, "59430605": 7, "45833333": 7, "1177": 7, "80555556": 7, "65697674": 7, "1207": 7, "00581395": 7, "34536082": 7, "1257": 7, "71134021": 7, "11458333": 7, "1279": 7, "29166667": 7, "375": 7, "54375": 7, "1190": 7, "071875": 7, "1010": 7, "24773414": 7, "1222": 7, "36555891": 7, "77003484": 7, "1239": 7, "20557491": 7, "98924731": 7, "1111": 7, "97311828": 7, "1278": 7, "83141762": 7, "1143": 7, "9030837": 7, "1030": 7, "79295154": 7, "1282": 7, "31125828": 7, "36423841": 7, "1288": 7, "2875817": 7, "1120": 7, "708061": 7, "1289": 7, "25964912": 7, "1040": 7, "62807018": 7, "1285": 7, "59235669": 7, "84394904": 7, "1286": 7, "17525773": 7, "1260": 7, "2628866": 7, "04333333": 7, "1198": 7, "57": 7, "76452599": 7, "1237": 7, "55045872": 7, "89776358": 7, "1138": 7, "1341853": 7, "83713355": 7, "1216": 7, "22149837": 7, "02068966": 7, "1056": 7, "47241379": 7, "96491228": 7, "1097": 7, "3754386": 7, "05338078": 7, "34875445": 7, "54597701": 7, "23563218": 7, "40883978": 7, "1074": 7, "14364641": 7, "50806452": 7, "1251": 7, "9516129": 7, "56353591": 7, "1268": 7, "74585635": 7, "94805195": 7, "1182": 7, "46103896": 7, "91935484": 7, "46774194": 7, "321": 7, "322": 7, "323": 7, "drop": [7, 8, 10], "again": [7, 8], "expect": [7, 9, 11], "order": [7, 9, 11], "directli": [7, 10], "ds_mesmer": 7, "whenev": 7, "_mesmer_segment": [7, 11], "cach": 7, "multiplexsegment": 7, "tar": 7, "gz": 7, "against": 7, "file_hash": 7, "hash": 7, "a1dfbce2594f927b9112f23a0a1739e0": 7, "deepcel": 7, "successfulli": 7, "No": 7, "configur": [7, 9], "save": 7, "compil": 7, "float": [7, 9, 10, 11], "stain": 7, "task": 7, "ds_stardist": 7, "_stardist_segment": [7, 11], "2d_versatile_fluo": 7, "stardist2d": 7, "network": 7, "weights_best": 7, "h5": 7, "json": 7, "prob_thresh": 7, "479071": 7, "nms_thresh": 7, "144": 7, "08": 7, "31it": 7, "tend": 7, "lot": 7, "under": [7, 10], "collid": 7, "stop": 7, "ds_stardist_grown": 7, "grown": [7, 10], "three": 7, "hyperparamet": 7, "help": 7, "macrophag": 7, "matter": 7, "preced": 7, "71": 7, "06": 7, "320": 7, "3y": 7, "uint82": 7, "77": [7, 8], "overlap": 7, "ds_cellpose_merg": 7, "merge_segment": [7, 10], "lymphocyt": 7, "_merged_segment": [7, 10], "0label_segment": 7, "55": [7, 8], "72": 7, "76": 7, "84": 7, "89": 7, "93": [7, 8], "94": 7, "96": 7, "101": [7, 8], "102": 7, "103": 7, "104": 7, "105": 7, "106": 7, "107": 7, "108": 7, "109": 7, "110": 7, "112": 7, "113": [7, 8], "115": 7, "116": 7, "118": 7, "119": 7, "120": 7, "121": 7, "122": 7, "123": 7, "124": 7, "126": 7, "127": 7, "128": 7, "130": 7, "131": 7, "132": 7, "133": 7, "136": 7, "139": [7, 8], "140": 7, "141": 7, "142": 7, "143": 7, "145": [7, 8], "146": [7, 8], "151": 7, "152": 7, "153": 7, "154": 7, "155": 7, "156": 7, "157": 7, "158": 7, "160": 7, "161": 7, "162": 7, "164": 7, "165": 7, "167": 7, "169": 7, "170": 7, "171": 7, "173": 7, "174": 7, "175": 7, "176": 7, "177": 7, "178": 7, "179": 7, "180": 7, "182": 7, "183": 7, "184": 7, "185": 7, "186": 7, "187": 7, "189": 7, "190": 7, "191": 7, "192": 7, "194": 7, "196": 7, "197": 7, "198": 7, "199": 7, "201": 7, "203": 7, "204": 7, "206": 7, "208": [7, 8], "209": 7, "210": 7, "211": 7, "212": 7, "214": 7, "215": 7, "217": 7, "220": 7, "221": 7, "223": 7, "225": 7, "226": 7, "227": 7, "228": 7, "229": 7, "230": 7, "231": 7, "232": 7, "236": 7, "237": 7, "238": 7, "239": 7, "240": 7, "241": 7, "242": 7, "243": 7, "245": 7, "246": 7, "249": 7, "250": 7, "251": 7, "252": 7, "253": 7, "254": 7, "256": 7, "257": 7, "258": 7, "259": 7, "260": 7, "261": 7, "263": 7, "264": 7, "265": 7, "266": 7, "267": 7, "268": 7, "271": 7, "272": 7, "273": 7, "274": 7, "276": 7, "277": [7, 8], "278": 7, "279": 7, "282": 7, "283": [7, 8], "284": 7, "285": 7, "286": 7, "287": 7, "288": 7, "291": 7, "292": 7, "294": 7, "295": 7, "886f4c": 7, "04e": 7, "3prop": 7, "3x": 7, "301y": 7, "296featur": 7, "3arrai": 7, "296arrai": 7, "1b4400": 7, "eec3ff": 7, "00000000e": 7, "03976395e": 7, "01177127e": 7, "04003425e": 7, "26775342e": 7, "05124330e": 7, "13856696e": 7, "10571235e": 7, "12722843e": 7, "14620124e": 7, "01776398e": 7, "16230389e": 7, "17880722e": 7, "18058482e": 7, "01311161e": 7, "19026624e": 7, "28613629e": 7, "20758269e": 7, "05454001e": 7, "20234309e": 7, "21452342e": 7, "26504545e": 7, "19021678e": 7, "28005426e": 7, "27537234e": 7, "27334663e": 7, "13492020e": 7, "28796612e": 7, "15875584e": 7, "29483128e": 7, "02832099e": 7, "00864773e": 7, "10269886e": 7, "05833333e": 7, "00033333e": 7, "05521469e": 7, "22499435e": 7, "09622517e": 7, "11684106e": 7, "12757364e": 7, "22200000e": 7, "27685165e": 7, "05537363e": 7, "27637826e": 7, "10934348e": 7, "27776289e": 7, "25349485e": 7, "28373222e": 7, "08769456e": 7, "28052941e": 7, "03161345e": 7, "28121739e": 7, "29705797e": 7, "28914216e": 7, "12124020e": 7, "28731452e": 7, "04151613e": 7, "29030841e": 7, "00780374e": 7, "29325301e": 7, "13526506e": 7, "29259551e": 7, "23957865e": 7, "29374242e": 7, "05472727e": 7, "29488554e": 7, "09443373e": 7, "29433544e": 7, "19741139e": 7, "29490265e": 7, "21288496e": 7, "29660000e": 7, "07444000e": 7, "29580769e": 7, "18414423e": 7, "29661429e": 7, "25181429e": 7, "29711111e": 7, "26706838e": 7, "29782500e": 7, "00297500e": 7, "darkr": 7, "far": 7, "perfect": 7, "pick": 7, "fine": 7, "tune": 7, "celltyp": [7, 10], "tweak": 7, "improv": 7, "0x7fd18a1534d0": 8, "abil": 8, "intuit": 8, "voehr": 8, "pymc_env": 8, "h5netcdf": 8, "togeth": 8, "familiar": 8, "bracket": 8, "473": 8, "647": 8, "923": 8, "703": 8, "812": 8, "536e": 8, "429e": 8, "617e": 8, "pass": [8, 9, 10, 11], "visualis": 8, "7143": 8, "5909": 8, "677": 8, "883": 8, "730": 8, "676": 8, "understand": 8, "ridd": 8, "belong": 8, "respect": [8, 9], "number": [8, 9, 10, 11], "5891": 8, "12444": 8, "12469": 8, "12473": 8, "12505": 8, "12522": 8, "9208": 8, "4512": 8, "817": 8, "c0": [8, 9], "333": 8, "371": 8, "7806": 8, "12531": 8, "12536": 8, "12540": 8, "12549": 8, "2297": 8, "4495": 8, "904": 8, "337": 8, "except": 8, "12391": 8, "c7": 8, "plotaccessor": 9, "xlim": 9, "ylim": 9, "linewidth": 9, "bound": [9, 10], "xstart": 9, "xstop": 9, "ymin": 9, "ymax": 9, "axi": 9, "rectangular": 9, "text_kwarg": 9, "fontsiz": 9, "highlight_kwarg": 9, "fontweight": 9, "bold": 9, "bbox": 9, "format_str": 9, "keyword": [9, 10, 11], "xmin": 9, "xmax": 9, "string": [9, 10], "2f": 9, "downsampl": [9, 10], "crop": 9, "background": 9, "surround": 9, "tma": 9, "awai": 9, "obj": [9, 10, 11], "42d4f4": 9, "f032e6": 9, "bfef45": 9, "dcbeff": 9, "800000": 9, "aaffc3": 9, "808000": 9, "000075": 9, "a9a9a9": 9, "black": 9, "stack": 9, "denot": 9, "c1": 9, "c2": 9, "prior": 9, "usag": 9, "legend_segment": 9, "legend_kwarg": 9, "framealpha": 9, "meant": 9, "conjunct": 9, "legendf": 9, "colorbar": 9, "inclus": 9, "alpha_boundari": 9, "inner": 9, "override_color": 9, "transpar": 9, "outer": 9, "overrid": 9, "insid": 9, "outsid": 9, "blend": 9, "must": [9, 10], "zorder": 9, "At": 9, "moment": 9, "point": 9, "z": 9, "origin": [9, 10, 11], "greater": [9, 10], "color_schem": 9, "scatter_kwarg": 9, "becom": 9, "deal": 9, "render_intens": 9, "show_channel_legend": 9, "show_label_legend": 9, "preprocessingaccessor": 10, "fast": 10, "add_channel": 10, "add_featur": 10, "feature_nam": 10, "feature_valu": 10, "add_label": 10, "add_labels_from_datafram": 10, "random": [10, 11], "add_obs_from_datafram": 10, "amend": 10, "return_xarrai": 10, "regionprops_t": 10, "add_properti": 10, "separ": 10, "arcsinh_median_intens": 10, "callabl": [10, 11], "add_quantification_from_datafram": 10, "reindex": 10, "keep_label": 10, "field": 10, "locat": 10, "mask_growth": 10, "relabel": 10, "n": 10, "initi": [10, 11], "kwarg": [10, 11], "overwritten": 10, "th": 10, "kept": 10, "ones": 10, "col": 10, "segmentation_kei": [10, 11], "boolean": 10, "satisfi": 10, "condit": 10, "remain": 10, "70px": 10, "get_bbox": 10, "x_slice": 10, "y_slice": 10, "get_channel": 10, "retriev": 10, "get_disconnected_cel": 10, "disconnect": 10, "handle_disconnect": 10, "handl": 10, "fill": 10, "multi": 10, "dimension": 10, "1d": 10, "precomput": 10, "3d": 10, "from_kei": 10, "key_base_segment": 10, "biggest": 10, "smaller": 10, "replac": 10, "both": 10, "cofactor": 10, "min_percentil": 10, "max_percentil": 10, "zscore": 10, "minmax": 10, "double_zscor": 10, "minimum": 10, "maximum": [10, 11], "unknown": 10, "util": 11, "third": 11, "parti": 11, "toolaccessor": 11, "extern": 11, "seed": 11, "learning_r": 11, "batch_siz": 11, "n_init": 11, "n_init_epoch": 11, "max_epoch": 11, "cell_id_col": 11, "cell_id": 11, "cell_type_col": 11, "includ": 11, "state": 11, "certainti": 11, "learn": 11, "batch": 11, "num_iter": 11, "cellprob_threshold": 11, "flow_threshold": 11, "gpu": 11, "model_typ": 11, "postprocess_func": 11, "depend": 11, "els": 11, "attempt": 11, "cellpose_denois": 11, "_cellpose_denois": 11, "_cellpose_denoise_segment": 11, "restore_typ": 11, "denoise_cyto3": 11, "obs_kei": 11, "spatial_data_object": 11, "assum": 11, "n_tile": 11, "predict_big": 11, "tile": 11, "split": 11, "flag": 11, "nuclear_channel": 11, "predict_instances_big": 11}, "objects": {"spatialproteomics.la": [[1, 0, 0, "-", "label"]], "spatialproteomics.la.label": [[1, 1, 1, "", "LabelAccessor"]], "spatialproteomics.la.label.LabelAccessor": [[1, 2, 1, "", "add_label_property"], [1, 2, 1, "", "add_label_type"], [1, 2, 1, "", "deselect"], [1, 2, 1, "", "predict_cell_types_argmax"], [1, 2, 1, "", "remove_label_type"], [1, 2, 1, "", "set_label_colors"], [1, 2, 1, "", "set_label_name"], [1, 2, 1, "", "threshold_labels"]], "spatialproteomics.pl": [[9, 0, 0, "-", "plot"]], "spatialproteomics.pl.plot": [[9, 1, 1, "", "PlotAccessor"]], "spatialproteomics.pl.plot.PlotAccessor": [[9, 2, 1, "", "add_box"], [9, 2, 1, "", "annotate"], [9, 2, 1, "", "autocrop"], [9, 2, 1, "", "colorize"], [9, 2, 1, "", "imshow"], [9, 2, 1, "", "render_labels"], [9, 2, 1, "", "render_segmentation"], [9, 2, 1, "", "scatter"], [9, 2, 1, "", "scatter_labels"], [9, 2, 1, "", "show"]], "spatialproteomics.pp": [[10, 0, 0, "-", "preprocessing"]], "spatialproteomics.pp.preprocessing": [[10, 1, 1, "", "PreprocessingAccessor"]], "spatialproteomics.pp.preprocessing.PreprocessingAccessor": [[10, 2, 1, "", "add_channel"], [10, 2, 1, "", "add_feature"], [10, 2, 1, "", "add_labels"], [10, 2, 1, "", "add_labels_from_dataframe"], [10, 2, 1, "", "add_obs_from_dataframe"], [10, 2, 1, "", "add_observations"], [10, 2, 1, "", "add_properties"], [10, 2, 1, "", "add_quantification"], [10, 2, 1, "", "add_quantification_from_dataframe"], [10, 2, 1, "", "add_segmentation"], [10, 2, 1, "", "apply"], [10, 2, 1, "", "downsample"], [10, 2, 1, "", "drop_layers"], [10, 2, 1, "", "filter_by_obs"], [10, 2, 1, "", "get_bbox"], [10, 2, 1, "", "get_channels"], [10, 2, 1, "", "get_disconnected_cell"], [10, 2, 1, "", "get_layer_as_df"], [10, 2, 1, "", "grow_cells"], [10, 2, 1, "", "merge_segmentation"], [10, 2, 1, "", "normalize"], [10, 2, 1, "", "rescale"], [10, 2, 1, "", "threshold"], [10, 2, 1, "", "transform_expression_matrix"]], "spatialproteomics.tl": [[11, 0, 0, "-", "tool"]], "spatialproteomics.tl.tool": [[11, 1, 1, "", "ToolAccessor"]], "spatialproteomics.tl.tool.ToolAccessor": [[11, 2, 1, "", "astir"], [11, 2, 1, "", "cellpose"], [11, 2, 1, "", "cellpose_denoise"], [11, 2, 1, "", "convert_to_anndata"], [11, 2, 1, "", "convert_to_spatialdata"], [11, 2, 1, "", "mesmer"], [11, 2, 1, "", "stardist"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"]}, "titleterms": {"welcom": 0, "document": 0, "spatialproteom": [0, 3], "content": 0, "tutori": 0, "indic": 0, "tabl": [0, 5], "The": [1, 9, 10, 11], "label": [1, 6, 8], "la": 1, "accessor": [1, 9, 10, 11], "cell": [2, 3, 6, 7], "type": [2, 3], "predict": [2, 3], "imag": [2, 3, 4], "process": [2, 3, 4], "argmax": 2, "astir": 2, "marker": 2, "binar": 2, "exampl": 3, "workflow": 3, "1": 3, "get": 3, "start": 3, "2": 3, "3": 3, "segment": [3, 6, 7], "4": 3, "quantifi": 3, "protein": 3, "express": 3, "per": 3, "5": 3, "6": 3, "plot": [3, 6, 9], "interopar": 5, "import": 5, "data": [5, 8], "export": 5, "zarr": 5, "csv": 5, "anndata": 5, "spatialdata": 5, "channel": [6, 7, 8], "intens": 6, "render": 6, "mask": 6, "ob": 6, "annot": 6, "region": 6, "expert": 6, "whole": 7, "cellpos": 7, "mesmer": 7, "nuclear": 7, "stardist": 7, "multipl": 7, "subselect": 8, "slice": 8, "spatial": 8, "coordin": 8, "pl": 9, "preprocess": 10, "pp": 10, "tool": 11, "tl": 11}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "nbsphinx": 4, "sphinx": 56}})